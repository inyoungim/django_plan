/* kmslab_editor 3.0.1 */

function each(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])}function extend(a,b){for(var c in b)a[c]=b[c];return a}var _DOC=document,_WIN=window,_DOC_EL=_DOC.documentElement,_FALSE=!1,_TRUE=!0,_NULL=null,_UNDEFINED;"object"!=typeof JSON&&(JSON={}),function(){"use strict";function a(a){return a<10?"0"+a:a}function b(a){return h.lastIndex=0,h.test(a)?'"'+a.replace(h,function(a){var b=i[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,g){var h,i,j,k,l,m=d,n=g[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof f&&(n=f.call(g,a,n)),typeof n){case"string":return b(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(d+=e,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(k=n.length,h=0;h<k;h+=1)l[h]=c(h,n)||"null";return j=0===l.length?"[]":d?"[\n"+d+l.join(",\n"+d)+"\n"+m+"]":"["+l.join(",")+"]",d=m,j}if(f&&"object"==typeof f)for(k=f.length,h=0;h<k;h+=1)"string"==typeof f[h]&&(i=f[h],(j=c(i,n))&&l.push(b(i)+(d?": ":":")+j));else for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(j=c(i,n))&&l.push(b(i)+(d?": ":":")+j);return j=0===l.length?"{}":d?"{\n"+d+l.join(",\n"+d)+"\n"+m+"}":"{"+l.join(",")+"}",d=m,j}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d,e,f,g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,g){var h;if(d="",e="","number"==typeof g)for(h=0;h<g;h+=1)e+=" ";else"string"==typeof g&&(e=g);if(f=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return c("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"==typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var d;if(a=String(a),g.lastIndex=0,g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=txEval("("+a+")"),"function"==typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse")})}();var $tx={};!function(){Object.extend=function(a,b){for(var c in b)a[c]=b[c];return a},_WIN.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},_WIN.$break={},Function.prototype.bind=function(){var a=this,b=$A(arguments),c=b.shift();return function(){return a.apply(c,b.concat($A(arguments)))}},Function.prototype.bindAsEventListener=function(){var a=this,b=$A(arguments),c=b.shift();return function(d){return a.apply(c,[d||_WIN.event].concat(b))}};var a=function(a){var b=arguments;if(b.length>1){for(var c=0,d=[],e=b.length;c<e;c++)d.push($tx(b[c]));return d}return"string"==typeof a&&(a=_DOC.getElementById(a)),a};$tx=a;var b=navigator.userAgent.toLowerCase(),c=function(a){return-1!=b.indexOf(a)};Object.extend($tx,{chrome:c("chrome"),safari:c("safari")&&c("chrome")==_FALSE,gecko:c("firefox"),gecko_ver:c("firefox")?parseFloat(b.replace(/.*firefox\/([\d\.]+).*/g,"$1")):0,msie:c("msie")||c("trident"),msie_ver:c("msie")||c("trident")?function(){return c("msie")?parseFloat(b.split("msie")[1]):parseFloat(b.split("rv:")[1])}():0,msie_docmode:_DOC.documentMode||0,webkit:c("applewebkit"),webkit_ver:c("applewebkit")?parseFloat(b.replace(/.*safari\//g,"")):0,opera:c("opera"),presto:c("presto"),os_win:c("win"),os_win7:c("windows nt 6.1"),os_win8:c("windows nt 6.2"),os_win8_1:c("windows nt 6.3"),os_mac:c("mac"),iphone:c("iphone"),ipod:c("ipod"),ipad:c("ipad"),ios:c("like mac os x")&&c("mobile"),ios_ver:c("like mac os x")&&c("mobile")?parseFloat(b.replace(/^.*os (\d+)([_\d]*) .*$/g,"$1.$2").replace(/_/g,"")):0,android:c("android"),android_ver:c("android")?parseFloat(b.replace(/.*android[\s]*([\d\.]+).*/g,"$1")):0,blackberry:c("blackberry"),winphone:c("windows phone os"),wince:c("windows ce")}),Object.extend($tx,{msie_std:$tx.msie&&!_DOC.selection,msie_nonstd:$tx.msie&&!!_DOC.selection,msie6:$tx.msie&&6<=$tx.msie_ver&&$tx.msie_ver<7,msie_quirks:function(){try{return $tx.msie&&"CSS1Compat"!==_WIN.top.document.compatMode}catch(a){try{return"CSS1Compat"!==_DOC.compatMode}catch(a){return _FALSE}}}()}),Object.extend($tx,{extend:Object.extend,browser:function(){return $tx.msie?"msie":$tx.gecko?"firefox":$tx.chrome?"chrome":$tx.webkit?"safari":$tx.opera?"opera":""}()}),_WIN.$must=function(a,b){var c=$tx(a);if(!c)throw new Error("[Exception] "+b+": cannot find element: id='"+a+"'");return c},_WIN.txlib=a}(),function(){$tx.extend($tx,{classNames:function(a){return a.className.split(" ")},hasClassName:function(a,b){if(b&&a.className){return a.className.split(/\s+/).contains(b)}return _FALSE},addClassName:function(a,b){this.hasClassName(a,b)||(a.className+=" "+b)},removeClassName:function(a,b){var c=a.className.split(/\s+/);a.className=c.without(b).compact().join(" ")},visible:function(a){return"none"!=$tx.getStyle(a,"display")},toggle:function(a){return a=$tx(a),$tx[$tx.visible(a)?"hide":"show"](a),a},show:function(a){return $tx(a).style.display="block",a},hide:function(a){return $tx(a).style.display="none",a}})}(),$tx.extend($tx,{getStyle:function(a,b){a=$tx(a),b="float"==b?"cssFloat":b.camelize();var c=a.style[b];if(!c){var d=_DOC.defaultView||_DOC.parentWindow,e=d.getComputedStyle(a,_NULL);c=e?e[b]:_NULL}return"opacity"==b?c?parseFloat(c):1:"auto"==c?_NULL:c},setStyle:function(a,b,c){a=$tx(a);var d=a.style;for(var e in b)b.hasOwnProperty(e)&&("opacity"===e?$tx.setOpacity(a,b[e]):d["float"===e||"cssFloat"===e?d.styleFloat===_UNDEFINED?"cssFloat":"styleFloat":c?e:e.camelize()]=b[e]);return a},setStyleProperty:function(a,b){var c=_TRUE;this.setStyle(a,b,c)},getOpacity:function(a){return $tx(a).getStyle("opacity")},setOpacity:function(a,b){return a=$tx(a),a.style.opacity=1==b||""===b?"":b<1e-5?0:b,a},applyCSSText:function(a,b){var c=a.createElement("style");c.setAttribute("type","text/css"),c.styleSheet?c.styleSheet.cssText=b:c.textContent=b,a.getElementsByTagName("head")[0].appendChild(c)}}),function(){$tx.msie_nonstd&&($tx.getStyle=function(a,b){a=$tx(a),b="float"==b||"cssFloat"==b?"styleFloat":b.camelize();var c=a.style[b];return!c&&a.currentStyle&&(c=a.currentStyle[b]),"opacity"==b?(c=($tx.getStyle(a,"filter")||"").match(/alpha\(opacity=(.*)\)/))&&c[1]?parseFloat(c[1])/100:1:"auto"==c?"width"!=b&&"height"!=b||"none"==$tx.getStyle(a,"display")?_NULL:a["offset"+b.capitalize()]+"px":c}),$tx.msie_nonstd&&($tx.setOpacity=function(a,b){a=$tx(a);var c=$tx.getStyle(a,"filter"),d=a.style;return 1==b||""===b?(d.filter=c.replace(/alpha\([^\)]*\)/gi,""),a):(b<1e-5&&(b=0),d.filter=c.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*b+")",a)}),$tx.gecko&&$tx.extend($tx,{setOpacity:function(a,b){return a=$tx(a),a.style.opacity=1==b?.999999:""===b?"":b<1e-5?0:b,a}}),$tx.JSONHelper={encodeURIComponentReplacer:function(b,c){return"string"!=typeof c||a(c)?c:encodeURIComponent(c)},decodeURIComponentReviver:function(b,c){if("string"==typeof c){if(!a(c))return decodeURIComponent(c);try{return JSON.parse(c,arguments.callee)}catch(a){}}return c}};var a=function(a){if("["==a.charAt(0)&&"]"==a.charAt(a.length-1))try{return JSON.parse(a),!0}catch(a){}return!1}}(),function(){$tx.extend($tx,{cumulativeOffset:function(a){var b=0,c=0;do{b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent}while(a);return[c,b]},positionedOffset:function(a){var b=0,c=0;do{if(b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent){if("BODY"==a.tagName)break;var d=$tx.getStyle(a,"position");if("relative"==d||"absolute"==d)break}}while(a);return[c,b]},getDimensions:function(a){var b=$tx.getStyle(a,"display");if("none"!=b&&b!=_NULL)return{width:a.offsetWidth,height:a.offsetHeight};var c=a.style,d=c.visibility,e=c.position,f=c.display;c.visibility="hidden",c.position="absolute",c.display="block";var g=a.clientWidth,h=a.clientHeight;return c.display=f,c.position=e,c.visibility=d,{width:g,height:h}},getCoords:function(a,b){for(var c=b||!1,d=a.offsetWidth,e=a.offsetHeight,f={left:0,top:0,right:0,bottom:0};a;)if(f.left+=a.offsetLeft||0,f.top+=a.offsetTop||0,a=a.offsetParent,c&&a){if("BODY"==a.tagName)break;if("static"!==$tx.getStyle(a,"position"))break}return f.right=f.left+d,f.bottom=f.top+e,f},getCoordsTarget:function(a){return this.getCoords(a,_TRUE)}}),$tx.webkit&&($tx.cumulativeOffset=function(a){var b=0,c=0;do{if(b+=a.offsetTop||0,c+=a.offsetLeft||0,a.offsetParent==_DOC.body&&"absolute"==$tx.getStyle(a,"position"))break;a=a.offsetParent}while(a);return[c,b]})}(),function(){$tx.extend($tx,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(a){return $tx(a.target||a.srcElement)},isLeftClick:function(a){return a.which&&1==a.which||a.button&&1==a.button},isRightClick:function(a){return a.which&&3==a.which||a.button&&2==a.button},pointerX:function(a){var b=$tx.element(a).ownerDocument||_DOC,c=b.documentElement,d=b.body;return a.pageX||a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0)},pointerY:function(a){var b=$tx.element(a).ownerDocument||_DOC,c=b.documentElement,d=b.body;return a.pageY||a.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)},stop:function(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=_FALSE,a.cancelBubble=_TRUE)},findElement:function(a,b){for(var c=$tx.element(a);c.parentNode&&(!c.tagName||!c.tagName.toUpperCase||c.tagName.toUpperCase()!=b.toUpperCase());)c=c.parentNode;return c},observers:_FALSE,_observeAndCache:function(a,b,c,d){this.observers||(this.observers=[]),a.addEventListener?(this.observers.push([a,b,c,d]),a.addEventListener(b,c,d)):a.attachEvent&&(this.observers.push([a,b,c,d]),a.attachEvent("on"+b,c))},simulateEvent:function(a,b,c){var d=$tx.observers;if(d)for(var e=0,f=d.length;e<f;e++){var g=d[e];g&&g[1]===b&&g[0]===a&&g[2](c)}},unloadCache:function(){if($tx.observers){for(var a=0,b=$tx.observers.length;a<b;a++)$tx.stopObserving.apply(this,$tx.observers[a]),$tx.observers[a][0]=_NULL;$tx.observers=_FALSE}},observe:function(a,b,c,d){a=$tx(a),d=d||_FALSE,"keypress"==b&&(b="keydown"),$tx._observeAndCache(a,b,c,d)},stopObserving:function(a,b,c,d){if("function"==typeof c)if(a=$tx(a),d=d||_FALSE,"keypress"==b&&(b="keydown"),a.removeEventListener)a.removeEventListener(b,c,d);else if(a.detachEvent)try{a.detachEvent("on"+b,c)}catch(a){}}}),$tx.msie&&$tx.observe(window,"unload",$tx.unloadCache,_FALSE)}(),function(){$tx.extend(Object,{clone:function(a){return Object.extend({},a)}}),$tx.extend($tx,{isPrimitiveType:function(a){return new $tx.Set("string","number","boolean","date","function").contains(typeof a)},deepcopy:function(a,b){var c=a;if(!b)return c;for(var d in b)switch(typeof b[d]){case"string":case"number":case"boolean":case"date":case"function":c[d]=b[d];break;default:b[d]?b[d].constructor==Array?c[d]=[].concat(b[d]):(c[d]=c[d]||{},this.deepcopy(c[d],b[d])):c[d]=_NULL}return c},defaults:function(a,b){for(var c in b)a[c]===_UNDEFINED&&(a[c]=b[c])}})}(),function(){$tx.extend(String,{interpret:function(a){return a==_NULL?"":String(a)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),$tx.extend(String.prototype,{gsub:function(a,b){var c,d="",e=this;for(b=arguments.callee.prepareReplacement(b);e.length>0;)(c=e.match(a))?(d+=e.slice(0,c.index),d+=String.interpret(b(c)),e=e.slice(c.index+c[0].length)):(d+=e,e="");return d},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"")},toQueryParams:function(a){var b=this.strip().match(/([^?#]*)(#.*)?$/);if(!b)return{};var c={},d=_NULL;return b[1].split(a||"&").each(function(a){var b=_NULL,e=_NULL,f=a.match(/([\w_]+)=(.*)/);if(f)d=b=decodeURIComponent(f[1]),f[2]&&(e=decodeURIComponent(f[2]));else{if(!d)return;b=d,e=c[b],e+="&"+decodeURIComponent(a)}b in c?(c[b].constructor!=Array&&(c[b]=[c[b]]),c[b].push(e)):c[b]=e}),c},toArray:function(){return this.split("")},times:function(a){for(var b="",c=0;c<a;c++)b+=this;return b},camelize:function(){var a=this.split("-"),b=a.length;if(1==b)return a[0];for(var c="-"==this.charAt(0)?a[0].charAt(0).toUpperCase()+a[0].substring(1):a[0],d=1;d<b;d++)c+=a[d].charAt(0).toUpperCase()+a[d].substring(1);return c},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},include:function(a){return this.indexOf(a)>-1},empty:function(){return""==this},blank:function(){return/^\s*$/.test(this)}}),String.prototype.gsub.prepareReplacement=function(a){if("function"==typeof a)return a;var b=new Template(a);return function(a){return b.evaluate(a)}},$tx.extend(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},getRegExp:function(){return this.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\//g,"\\/").replace(/\?/g,"\\?").replace(/\^/g,"\\^").replace(/\)/g,"\\)").replace(/\(/g,"\\(").replace(/\]/g,"\\]").replace(/\[/g,"\\[").replace(/\$/g,"\\$").replace(/\+/g,"\\+").replace(/\|/g,"\\|").replace(/&/g,"(&|&amp;)")},toNumber:function(){return isNaN(this)?0:parseInt(this,10)},toFloat:function(){return isNaN(this)?0:parseFloat(this)},getRealLength:function(){for(var a=this,b=0,c=0;c<a.length;c++)b+="u"==escape(a.charAt(c)).charAt(1)?2:1;return b},cutRealLength:function(a){for(var b=this,c=0,d=0;d<b.length;d++)if((c+="u"==escape(b.charAt(d)).charAt(1)?2:1)>a)return b.substring(0,d-3).concat("...");return b},getCut:function(a){return this.cutRealLength(a)},parsePx:function(){return this==_NULL||0==this.length?0:this.indexOf("px")>-1?this.substring(0,this.indexOf("px")).toNumber():this.toNumber()},toPx:function(){return this.indexOf("px")>-1?this+"":this+"px"},isPx:function(){var a=this;return""!=a.trim()&&(-1!=a.indexOf("px")&&(a=this.parsePx()),!isNaN(a))},isPercent:function(){var a=this.trim();return parseInt(a,10)+"%"===a},toByteUnit:function(){return this.toNumber().toByteUnit()},toCurrency:function(){for(var a=this,b=0;b<Math.floor((a.length-(1+b))/3);b++)a=a.substring(0,a.length-(4*b+3))+","+a.substring(a.length-(4*b+3));return a},replaceAll:function(a,b){return a=a.replace(new RegExp("(\\W)","g"),"\\$1"),b=b.replace(new RegExp("\\$","g"),"$$$$"),this.replace(new RegExp(a,"gm"),b)},underscore:function(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()}})}(),function(){$tx.extend(Number.prototype,{toPaddedString:function(a,b){var c=this.toString(b||10);return"0".times(a-c.length)+c},toTime:function(){return Math.floor(this/60).toString().toPaddedString(2)+":"+(this%60).toString().toPaddedString(2)},toByteUnit:function(){var a,b=["GB","MB","KB"];if(0==this)return"0"+b[2];for(var c=0;c<b.length;c++)if(!((a=this/Math.pow(1024,3-c))<1))return Math.round(10*a)/10+b[c];return"1"+b[2]},toPx:function(){return this.toString()+"px"},parsePx:function(){return this+0},isPx:function(){return _TRUE},toNumber:function(){return this+0},toCurrency:function(){return this.toString().toCurrency()},getRegExp:function(){return this.toString().getRegExp()}})}(),function(){$tx.extend(Array.prototype,{each:function(a){if(_WIN.DEBUG)for(var b=0,c=this.length;b<c;b++)a(this[b]);else try{for(var b=0,c=this.length;b<c;b++)a(this[b])}catch(a){if(a!=$break)throw a}return this},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1},include:function(a){return this.contains(a)},contains:function(a){return this.indexOf(a)>=0},pluck:function(a){var b=[];return this.each(function(c){b.push(c[a])}),b},find:function(a){for(var b=0,c=this.length;b<c;b++){var d=this[b];if(a(d,b))return d}return _NULL},findAll:function(a){for(var b=[],c=0,d=this.length;c<d;c++){var e=this[c];a(e,c)&&b.push(e)}return b},inject:function(a,b){for(var c=0,d=this.length;c<d;c++){a=b(a,this[c],c)}return a},without:function(){var a=$A(arguments);return this.findAll(function(b){return!a.include(b)})},last:function(){return this[this.length-1]},flatten:function(){return this.inject([],function(a,b){return a.concat(b&&b.constructor==Array?b.flatten():[b])})},compact:function(){return this.findAll(function(a){return a!=_NULL&&""!=a})},uniq:function(a){return this.inject([],function(b,c,d){return 0!=d&&(a?b.last()==c:b.contains(c))||b.push(c),b})},toMap:function(a){var b={};return this.each(function(c){b[c[a]]=c}),b}}),Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=[],d=0,e=this.length;d<e;++d)c[d]=b?a.call(b,this[d],d,this):a(this[d],d,this);return c}),Array.prototype.select=Array.prototype.findAll,Array.prototype.detect=Array.prototype.find,_WIN.$A=function(a){if(!a)return[];if("function"==typeof a.toArray)return a.toArray();for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},$tx.Set=function(){for(var a=arguments,b=0,c=a.length;b<c;b++)this[a[b]]=_TRUE},$tx.Set.prototype.contains=function(a){return a in this},$tx.objectToQueryString=function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];d!==_NULL&&d!==_UNDEFINED||(d=""),b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")}}(),function(){if(typeof HTMLElement!=_UNDEFINED+""){var a=HTMLElement.prototype,b=a.__proto__={__proto__:a.__proto__};HTMLElement.prototype.__defineSetter__&&b.__defineSetter__("innerText",function(a){this.textContent=a}),HTMLElement.prototype.__defineGetter__&&b.__defineGetter__("innerText",function(){return this.textContent})}if(typeof XMLDocument!=_UNDEFINED+""){var c=XMLDocument;c.prototype.__defineGetter__&&c.prototype.__defineGetter__("xml",function(){return(new XMLSerializer).serializeToString(this)})}if(typeof Node!=_UNDEFINED+""&&Node.prototype&&Node.prototype.__defineGetter__&&Node.prototype.__defineGetter__("xml",function(){return(new XMLSerializer).serializeToString(this)}),typeof _DOC.implementation!=_UNDEFINED+""&&_DOC.implementation.hasFeature("XPath","3.0")&&(typeof c!=_UNDEFINED+""&&(c.prototype.selectNodes=function(a,b){b||(b=this);for(var c=this.defaultNS,d=this.evaluate(a,b,{normalResolver:this.createNSResolver(this.documentElement),lookupNamespaceURI:function(a){switch(a){case"dflt":return c;default:return this.normalResolver.lookupNamespaceURI(a)}}},XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,_NULL),e=[],f=0;f<d.snapshotLength;f++)e[f]=d.snapshotItem(f);return e},c.prototype.setProperty=function(a,b){"SelectionNamespaces"==a&&0==b.indexOf("xmlns:dflt")&&(this.defaultNS=b.replace(/^.*=\'(.+)\'/,"$1"))},c.prototype.defaultNS,c.prototype.selectSingleNode=function(a,b){b||(b=this);var c=this.selectNodes(a,b);return c.length>0?c[0]:_NULL},c.prototype.createNode=function(a,b,c){return 1==a?this.createElementNS(c,b):_NULL}),typeof Element!=_UNDEFINED+"")){Element.prototype.selectNodes=function(a){if(this.ownerDocument.selectNodes)return this.ownerDocument.selectNodes(a,this);throw"For XML Elements Only"},Element.prototype.selectSingleNode=function(a){if(this.ownerDocument.selectSingleNode)return this.ownerDocument.selectSingleNode(a,this);throw"For XML Elements Only"},Element.prototype.text;var d=Element.prototype,e=d.__proto__={__proto__:d.__proto__};Element.prototype.__defineSetter__&&e.__defineSetter__("text",function(a){this.textContent=a}),Element.prototype.__defineGetter__&&e.__defineGetter__("text",function(){return this.textContent}),_WIN.origElement&&(_WIN.origElement.prototype.selectNodes=Element.prototype.selectNodes,_WIN.origElement.prototype.selectSingleNode=Element.prototype.selectSingleNode)}}(),_WIN.$tx=$tx;var goog=_WIN.goog=_WIN.goog||{};goog.global=_WIN,goog.LOCALE="en",goog.provide=function(a){goog.exportPath_(a)},goog.exportPath_=function(a,b,c){var d=a.split("."),e=c||goog.global;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)!d.length&&goog.isDef(b)?e[f]=b:e=e[f]?e[f]:e[f]={}},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return _NULL+"";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&typeof a.splice!=_UNDEFINED+""&&typeof a.propertyIsEnumerable!=_UNDEFINED+""&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||typeof a.call!=_UNDEFINED+""&&typeof a.propertyIsEnumerable!=_UNDEFINED+""&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&typeof a.call==_UNDEFINED+"")return"object";return b},goog.isDef=function(a){return a!==_UNDEFINED},goog.isNull=function(a){return a===_NULL},goog.isDefAndNotNull=function(a){return a!=_NULL},goog.isArray=function(a){return"array"==goog.typeOf(a)},goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length},goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear},goog.isString=function(a){return"string"==typeof a},goog.isBoolean=function(a){return"boolean"==typeof a},goog.isNumber=function(a){return"number"==typeof a},goog.isFunction=function(a){return"function"==goog.typeOf(a)},goog.isObject=function(a){var b=goog.typeOf(a);return"object"==b||"array"==b||"function"==b},goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,Object.prototype.clone,goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)},goog.bindJs_=function(a,b,c){var d=b||goog.global;if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,e),a.apply(d,b)}}return function(){return a.apply(d,arguments)}},goog.bind=function(a,b,c){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(_NULL,arguments)},goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);return b.unshift.apply(b,c),a.apply(this,b)}},goog.now=Date.now||function(){return+new Date},goog.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a},goog.base=function(a,b,c){var d=arguments.callee.caller;if(d.superClass_)return d.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=_FALSE,g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=_TRUE;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name")},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)},goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)},goog.string.stripNewlines=function(a){return a.replace(/ ?(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.htmlEscape=function(a,b){return b?a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;"):goog.string.allRe_.test(a)?(-1!=a.indexOf("&")&&(a=a.replace(goog.string.amperRe_,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(goog.string.ltRe_,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(goog.string.gtRe_,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(goog.string.quotRe_,"&quot;")),a):a},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/\"/g,goog.string.allRe_=/[&<>\"]/,goog.string.contains=function(a,b){return-1!=a.indexOf(b)},goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")},goog.string.compareVersions=function(a,b){for(var c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",i=e[g]||"",j=new RegExp("(\\d*)(\\D*)","g"),k=new RegExp("(\\d*)(\\D*)","g");do{var l=j.exec(h)||["","",""],m=k.exec(i)||["","",""];if(0==l[0].length&&0==m[0].length)break;var n=0==l[1].length?0:parseInt(l[1],10),o=0==m[1].length?0:parseInt(m[1],10);c=goog.string.compareElements_(n,o)||goog.string.compareElements_(0==l[2].length,0==m[2].length)||goog.string.compareElements_(l[2],m[2])}while(0==c)}return c},goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.provide("goog.userAgent"),goog.userAgent.ASSUME_IE=_FALSE,goog.userAgent.ASSUME_GECKO=_FALSE,goog.userAgent.ASSUME_WEBKIT=_FALSE,goog.userAgent.ASSUME_MOBILE_WEBKIT=_FALSE,goog.userAgent.ASSUME_OPERA=_FALSE,goog.userAgent.ASSUME_ANY_VERSION=_FALSE,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:_NULL},goog.userAgent.getNavigator=function(){return goog.global.navigator},goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=_FALSE,goog.userAgent.detectedIe_=_FALSE,goog.userAgent.detectedWebkit_=_FALSE,goog.userAgent.detectedMobile_=_FALSE,goog.userAgent.detectedGecko_=_FALSE;var a;if(!goog.userAgent.BROWSER_KNOWN_&&(a=goog.userAgent.getUserAgentString())){var b=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=goog.string.startsWith(a,"Opera"),goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&(goog.string.contains(a,"MSIE")||goog.string.contains(a,"Trident")),goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&goog.string.contains(a,"WebKit"),goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&goog.string.contains(a,"Mobile"),goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&!goog.userAgent.detectedIe_&&"Gecko"==b.product}},goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_(),goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_,goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_,goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_,goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_,goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=_FALSE,goog.userAgent.ASSUME_WINDOWS=_FALSE,goog.userAgent.ASSUME_LINUX=_FALSE,goog.userAgent.ASSUME_X11=_FALSE,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.determineVersion_=function(){var a,b="";if(goog.userAgent.OPERA&&goog.global.opera){var c=goog.global.opera.version;b="function"==typeof c?c():c}else if(goog.userAgent.GECKO?a=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?a=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(a=/WebKit\/(\S+)/),a){var d=a.exec(goog.userAgent.getUserAgentString());b=d?d[1]:""}if(goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();if(e>parseFloat(b))return String(e)}return b},goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:_UNDEFINED},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[a]||(goog.userAgent.isVersionOrHigherCache_[a]=goog.string.compareVersions(goog.userAgent.VERSION,a)>=0)},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeCache_={},goog.userAgent.isDocumentModeOrHigher=function(a){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=a},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var a=goog.global.document;if(a&&goog.userAgent.IE){return goog.userAgent.getDocumentMode_()||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5)}}(),goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.NATIVE_ARRAY_PROTOTYPES=_TRUE,goog.array.ArrayLike,goog.array.peek=function(a){return a[a.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(a,b,c){return goog.array.ARRAY_PROTOTYPE_.indexOf.call(a,b,c)}:function(a,b,c){var d=c==_NULL?0:c<0?Math.max(0,a.length+c):c;if(goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,d):-1;for(var e=d;e<a.length;e++)if(e in a&&a[e]===b)return e;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(a,b,c){goog.array.ARRAY_PROTOTYPE_.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},goog.array.forEachRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=d-1;f>=0;--f)f in e&&b.call(c,e[f],f,a)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(a,b,c){return goog.array.ARRAY_PROTOTYPE_.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var i=g[h];b.call(c,i,h,a)&&(e[f++]=i)}
return e},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(a,b,c){return goog.array.ARRAY_PROTOTYPE_.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=new Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(a,b,c){return goog.array.ARRAY_PROTOTYPE_.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return _TRUE;return _FALSE},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(a,b,c){return goog.array.ARRAY_PROTOTYPE_.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return _FALSE;return _TRUE},goog.array.contains=function(a,b){return goog.array.indexOf(a,b)>=0},goog.array.isEmpty=function(a){return 0==a.length},goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0},goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)},goog.array.remove=function(a,b){var c,d=goog.array.indexOf(a,b);return(c=d>=0)&&goog.array.removeAt(a,d),c},goog.array.removeAt=function(a,b){return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(a,b,1).length},goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.clone=function(a){if(goog.isArray(a))return goog.array.concat(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b},goog.array.toArray=function(a){return goog.isArray(a)?goog.array.concat(a):goog.array.clone(a)},goog.array.splice=function(a,b,c,d){return goog.array.ARRAY_PROTOTYPE_.splice.apply(a,goog.array.slice(arguments,1))},goog.array.slice=function(a,b,c){return arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(a,b):goog.array.ARRAY_PROTOTYPE_.slice.call(a,b,c)},goog.array.sort=function(a,b){goog.array.ARRAY_PROTOTYPE_.sort.call(a,b||goog.array.defaultCompare)},goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return _FALSE;for(var d=a.length,e=c||goog.array.defaultCompareEquality,f=0;f<d;f++)if(!e(a[f],b[f]))return _FALSE;return _TRUE},goog.array.compare=function(a,b,c){return goog.array.equals(a,b,c)},goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0},goog.array.defaultCompareEquality=function(a,b){return a===b},goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c},goog.provide("goog.dom.classes"),goog.dom.classes.get=function(a){var b=a.className;return b&&"function"==typeof b.split?b.split(/\s+/):[]},goog.dom.classes.add=function(a,b){var c=goog.dom.classes.get(a),d=goog.array.slice(arguments,1),e=goog.dom.classes.add_(c,d);return a.className=c.join(" "),e},goog.dom.classes.add_=function(a,b){for(var c=0,d=0;d<b.length;d++)goog.array.contains(a,b[d])||(a.push(b[d]),c++);return c==b.length},goog.provide("goog.object"),goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},goog.object.filter=function(a,b,c){var d={};for(var e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d},goog.object.map=function(a,b,c){var d={};for(var e in a)d[e]=b.call(c,a[e],e,a);return d},goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return _FALSE;return _TRUE},goog.object.getCount=function(a){var b=0;for(var c in a)b++;return b},goog.object.contains=function(a,b){return goog.object.containsValue(a,b)},goog.object.getValues=function(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b},goog.object.getKeys=function(a){var b=[],c=0;for(var d in a)b[c++]=d;return b},goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return _TRUE;return _FALSE},goog.object.isEmpty=function(a){for(var b in a)return _FALSE;return _TRUE},goog.object.clear=function(a){for(var b in a)delete a[b]},goog.object.remove=function(a,b){var c;return(c=b in a)&&delete a[b],c},goog.object.add=function(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)},goog.object.get=function(a,b,c){return b in a?a[b]:c},goog.object.set=function(a,b,c){a[b]=c},goog.object.clone=function(a){var b={};for(var c in a)b[c]=a[c];return b},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(_NULL,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c},goog.provide("goog.dom.TagName"),goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",DD:"DD",DEL:"DEL",DFN:"DFN",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",FIELDSET:"FIELDSET",FONT:"FONT",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MENU:"MENU",META:"META",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",P:"P",PARAM:"PARAM",PRE:"PRE",Q:"Q",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SELECT:"SELECT",SMALL:"SMALL",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUP:"SUP",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",TT:"TT",U:"U",UL:"UL",VAR:"VAR"},goog.provide("goog.math.Size"),goog.math.Size=function(a,b){this.width=a,this.height=b},goog.math.Size.equals=function(a,b){return a==b?_TRUE:a&&b?a.width==b.width&&a.height==b.height:_FALSE},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.provide("goog.dom.BrowserFeature"),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isVersion("9"),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isVersion("9")||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE},goog.provide("goog.math.Coordinate"),goog.math.Coordinate=function(a,b){this.x=goog.isDef(a)?a:0,this.y=goog.isDef(b)?b:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.math.Coordinate.equals=function(a,b){return a==b?_TRUE:a&&b?a.x==b.x&&a.y==b.y:_FALSE},goog.provide("goog.dom"),goog.provide("goog.dom.DomHelper"),goog.provide("goog.dom.NodeType"),goog.dom.ASSUME_QUIRKS_MODE=_FALSE,goog.dom.ASSUME_STANDARDS_MODE=_FALSE,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.defaultDomHelper_,goog.dom.getDocument=function(){return document},goog.dom.getElement=function(a){return goog.isString(a)?_DOC.getElementById(a):a},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(document,a,b,c)},goog.dom.getElementsByClass=function(a,b){var c=b||document;return goog.dom.canUseQuerySelector_(c)?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)},goog.dom.getElementByClass=function(a,b){var c=b||document;return(goog.dom.canUseQuerySelector_(c)?c.querySelector("."+a):goog.dom.getElementsByClass(a,b)[0])||_NULL},goog.dom.canUseQuerySelector_=function(a){return a.querySelectorAll&&a.querySelector&&(!goog.userAgent.WEBKIT||goog.dom.isCss1CompatMode_(document)||goog.userAgent.isVersion("528"))},goog.dom.getElementsByTagNameAndClass_=function(a,b,c,d){var e=d||a,f=b&&"*"!=b?b.toUpperCase():"";if(goog.dom.canUseQuerySelector_(e)&&(f||c)){var g=f+(c?"."+c:"");return e.querySelectorAll(g)}if(c&&e.getElementsByClassName){var h=e.getElementsByClassName(c);if(f){for(var i,j={},k=0,l=0;i=h[l];l++)f==i.nodeName&&(j[k++]=i);return j.length=k,j}return h}var h=e.getElementsByTagName(f||"*");if(c){for(var i,j={},k=0,l=0;i=h[l];l++){var m=i.className;"function"==typeof m.split&&goog.array.contains(m.split(/\s+/),c)&&(j[k++]=i)}return j.length=k,j}return h},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(a,b){goog.object.forEach(b,function(b,c){"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:c in goog.dom.DIRECT_ATTRIBUTE_MAP_?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[c],b):a[c]=b})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)},goog.dom.getViewportSize_=function(a){var b=a.document;if(goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("500")&&!goog.userAgent.MOBILE){typeof a.innerHeight==_UNDEFINED+""&&(a=window);var c=a.innerHeight,d=a.document.documentElement.scrollHeight;return a==a.top&&d<c&&(c-=15),new goog.math.Size(a.innerWidth,c)}var e=goog.dom.isCss1CompatMode_(b)?b.documentElement:b.body;return new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window},goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView},goog.dom.createDom=function(a,b,c){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(a,b){var c=b[0],d=b[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&d&&(d.name||d.type)){var e=["<",c];if(d.name&&e.push(' name="',goog.string.htmlEscape(d.name),'"'),d.type){e.push(' type="',goog.string.htmlEscape(d.type),'"');var f={};goog.object.extend(f,d),d=f,delete d.type}e.push(">"),c=e.join("")}var g=a.createElement(c);return d&&(goog.isString(d)?g.className=d:goog.isArray(d)?goog.dom.classes.add.apply(_NULL,[g].concat(d)):goog.dom.setProperties(g,d)),b.length>2&&goog.dom.append_(a,g,b,2),g},goog.dom.append_=function(a,b,c,d){function e(c){c&&b.appendChild(goog.isString(c)?a.createTextNode(c):c)}for(var f=d;f<c.length;f++){var g=c[f];goog.isArrayLike(g)&&!goog.dom.isNodeLike(g)?goog.array.forEach(goog.dom.isNodeList(g)?goog.array.clone(g):g,e):e(g)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(a){return _DOC.createElement(a)},goog.dom.createTextNode=function(a){return _DOC.createTextNode(a)},goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode},goog.dom.canHaveChildren_OLD=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return _FALSE;switch(a.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.STYLE:return _FALSE}return _TRUE},goog.dom.TAGS_CANT_HAVE_CHILDREN={APPLET:_TRUE,AREA:_TRUE,BASE:_TRUE,BR:_TRUE,COL:_TRUE,FRAME:_TRUE,HR:_TRUE,IMG:_TRUE,INPUT:_TRUE,IFRAME:_TRUE,ISINDEX:_TRUE,LINK:_TRUE,NOFRAMES:_TRUE,NOSCRIPT:_TRUE,META:_TRUE,OBJECT:_TRUE,PARAM:_TRUE,SCRIPT:_TRUE,STYLE:_TRUE},goog.dom.canHaveChildren=function(a){return a.nodeType==goog.dom.NodeType.ELEMENT&&!goog.dom.TAGS_CANT_HAVE_CHILDREN[a.tagName]},goog.dom.appendChild=function(a,b){a.appendChild(b)},goog.dom.append=function(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)},goog.dom.removeChildren=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},goog.dom.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},goog.dom.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},goog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):_NULL},goog.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},goog.dom.flattenElement=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(_FALSE);for(;b=a.firstChild;)c.insertBefore(b,a);return goog.dom.removeNode(a)}};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&a.nodeType>0},goog.dom.contains=function(a,b){if(a.contains&&b.nodeType==goog.dom.NodeType.ELEMENT)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!=_UNDEFINED+"")return a==b||Boolean(16&a.compareDocumentPosition(b));for(;b&&a!=b;)b=b.parentNode;return b==a},goog.dom.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return 2&a.compareDocumentPosition(b)?1:-1;if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,f=b.parentNode;return e==f?goog.dom.compareSiblingOrder_(a,b):!c&&goog.dom.contains(e,b)?-1*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&&goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}var g,h,i=goog.dom.getOwnerDocument(a);return g=i.createRange(),g.selectNode(a),g.collapse(_TRUE),h=i.createRange(),h.selectNode(b),h.collapse(_TRUE),g.compareBoundaryPoints(goog.global.Range.START_TO_END,h)},goog.dom.compareParentsDescendantNodeIe_=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return goog.dom.compareSiblingOrder_(d,a)},goog.dom.compareSiblingOrder_=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1},goog.dom.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return _NULL;if(1==c)return arguments[0];var d=[],e=1/0;for(b=0;b<c;b++){for(var f=[],g=arguments[b];g;)f.unshift(g),g=g.parentNode;d.push(f),e=Math.min(e,f.length)}var h=_NULL;for(b=0;b<e;b++){for(var i=d[0][b],j=1;j<c;j++)if(i!=d[j][b])return h;h=i}return h},goog.dom.getOwnerDocument=function(a){return a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document},goog.dom.getOuterHtml=function(a){if("outerHTML"in a)return a.outerHTML;var b=goog.dom.getOwnerDocument(a),c=b.createElement("div");return c.appendChild(a.cloneNode(_TRUE)),c.innerHTML},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.getTextContent=function(a){var b;if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in a)b=goog.string.canonicalizeNewlines(a.innerText);else{var c=[];goog.dom.getTextContent_(a,c,_TRUE),b=c.join("")}return b=b.replace(/ \xAD /g," ").replace(/\xAD/g,""),b=b.replace(/\u200B/g,""),goog.userAgent.IE||(b=b.replace(/ +/g," "))," "!=b&&(b=b.replace(/^\s*/,"")),b},goog.dom.getRawTextContent=function(a){var b=[];return goog.dom.getTextContent_(a,b,_FALSE),b.join("")},goog.dom.getTextContent_=function(a,b,c){if(a.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(var d=a.firstChild;d;)goog.dom.getTextContent_(d,b,c),d=d.nextSibling},goog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return _FALSE},goog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(a){return goog.isString(a)?this.document_.getElementById(a):a},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,b,c)},goog.dom.DomHelper.prototype.getElementsByClass=function(a,b){var c=b||this.document_;return goog.dom.getElementsByClass(a,c)},goog.dom.DomHelper.prototype.getElementByClass=function(a,b){var c=b||this.document_;return goog.dom.getElementByClass(a,c)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())},goog.dom.Appendable,goog.dom.DomHelper.prototype.createDom=function(a,b,c){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)},goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(a)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.provide("goog.iter"),goog.provide("goog.iter.Iterator"),goog.provide("goog.iter.StopIteration"),goog.iter.Iterable,"StopIteration"in goog.global?goog.iter.StopIteration=goog.global.StopIteration:goog.iter.StopIteration=Error("StopIteration"),goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(a){return this},goog.iter.toIterator=function(a){if(a instanceof goog.iter.Iterator)return a;if("function"==typeof a.__iterator__)return a.__iterator__(_FALSE);if(goog.isArrayLike(a)){var b=0,c=new goog.iter.Iterator;return c.next=function(){for(;_TRUE;){if(b>=a.length)throw goog.iter.StopIteration;{if(b in a)return a[b++];b++}}},c}throw Error("Not implemented")},goog.iter.forEach=function(a,b,c){if(goog.isArrayLike(a))try{goog.array.forEach(a,b,c)}catch(a){if(a!==goog.iter.StopIteration)throw a}else{a=goog.iter.toIterator(a);try{for(;_TRUE;)b.call(c,a.next(),_UNDEFINED,a)}catch(a){if(a!==goog.iter.StopIteration)throw a}}},goog.iter.filter=function(a,b,c){a=goog.iter.toIterator(a);var d=new goog.iter.Iterator;return d.next=function(){for(;_TRUE;){var d=a.next();if(b.call(c,d,_UNDEFINED,a))return d}},d},goog.iter.join=function(a,b){return goog.iter.toArray(a).join(b)},goog.iter.map=function(a,b,c){a=goog.iter.toIterator(a);var d=new goog.iter.Iterator;return d.next=function(){for(;_TRUE;){var d=a.next();return b.call(c,d,_UNDEFINED,a)}},d},goog.iter.some=function(a,b,c){a=goog.iter.toIterator(a);try{for(;_TRUE;)if(b.call(c,a.next(),_UNDEFINED,a))return _TRUE}catch(a){if(a!==goog.iter.StopIteration)throw a}return _FALSE},goog.iter.every=function(a,b,c){a=goog.iter.toIterator(a);try{for(;_TRUE;)if(!b.call(c,a.next(),_UNDEFINED,a))return _FALSE}catch(a){if(a!==goog.iter.StopIteration)throw a}return _TRUE},goog.iter.toArray=function(a){if(goog.isArrayLike(a))return goog.array.toArray(a);a=goog.iter.toIterator(a);var b=[];return goog.iter.forEach(a,function(a){b.push(a)}),b},goog.iter.equals=function(a,b){a=goog.iter.toIterator(a),b=goog.iter.toIterator(b);var c,d;try{for(;_TRUE;){c=d=_FALSE;var e=a.next();c=_TRUE;var f=b.next();if(d=_TRUE,e!=f)return _FALSE}}catch(a){if(a!==goog.iter.StopIteration)throw a;if(c&&!d)return _FALSE;if(!d)try{return f=b.next(),_FALSE}catch(a){if(a!==goog.iter.StopIteration)throw a;return _TRUE}}return _FALSE},goog.provide("goog.dom.TagIterator"),goog.provide("goog.dom.TagWalkType"),goog.dom.TagWalkType={START_TAG:1,OTHER:0,END_TAG:-1},goog.dom.TagIterator=function(a,b,c,d,e){this.reversed=!!b,a&&this.setPosition(a,d),this.depth=e!=_UNDEFINED?e:this.tagType||0,this.reversed&&(this.depth*=-1),this.constrained=!c},goog.inherits(goog.dom.TagIterator,goog.iter.Iterator),goog.dom.TagIterator.prototype.node=_NULL,goog.dom.TagIterator.prototype.tagType=goog.dom.TagWalkType.OTHER,goog.dom.TagIterator.prototype.depth,goog.dom.TagIterator.prototype.reversed,goog.dom.TagIterator.prototype.constrained,goog.dom.TagIterator.prototype.started_=_FALSE,goog.dom.TagIterator.prototype.setPosition=function(a,b,c){this.node=a,a&&(goog.isNumber(b)?this.tagType=b:this.tagType=this.node.nodeType!=goog.dom.NodeType.ELEMENT?goog.dom.TagWalkType.OTHER:this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG),goog.isNumber(c)&&(this.depth=c)},goog.dom.TagIterator.prototype.copyFrom=function(a){this.node=a.node,this.tagType=a.tagType,this.depth=a.depth,this.reversed=a.reversed,this.constrained=a.constrained},goog.dom.TagIterator.prototype.clone=function(){return new goog.dom.TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)},goog.dom.TagIterator.prototype.skipTag=function(){var a=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;this.tagType==a&&(this.tagType=-1*a,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.restartTag=function(){var a=this.reversed?goog.dom.TagWalkType.START_TAG:goog.dom.TagWalkType.END_TAG;this.tagType==a&&(this.tagType=-1*a,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.next=function(){var a;if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog.iter.StopIteration;a=this.node;var b=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;if(this.tagType==b){var c=this.reversed?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,-1*b)}else{var d=this.reversed?a.previousSibling:a.nextSibling;d&&a.parentNode==d.parentNode?this.setPosition(d):this.setPosition(a.parentNode,-1*b)}this.depth+=this.tagType*(this.reversed?-1:1)}else this.started_=_TRUE;if(a=this.node,!this.node)throw goog.iter.StopIteration;return a},goog.dom.TagIterator.prototype.isStarted=function(){return this.started_},goog.dom.TagIterator.prototype.isStartTag=function(){return this.tagType==goog.dom.TagWalkType.START_TAG},goog.dom.TagIterator.prototype.isEndTag=function(){return this.tagType==goog.dom.TagWalkType.END_TAG},goog.dom.TagIterator.prototype.equals=function(a){return a.node==this.node&&(!this.node||a.tagType==this.tagType)},goog.dom.TagIterator.prototype.splice=function(a){var b=this.node;this.restartTag(),this.reversed=!this.reversed,goog.dom.TagIterator.prototype.next.call(this),this.reversed=!this.reversed;for(var c=goog.isArrayLike(arguments[0])?arguments[0]:arguments,d=c.length-1;d>=0;d--)goog.dom.insertSiblingAfter(c[d],b);goog.dom.removeNode(b)},goog.provide("goog.structs"),goog.structs.getCount=function(a){return"function"==typeof a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)},goog.structs.getValues=function(a){if("function"==typeof a.getValues)return a.getValues();if(goog.isString(a))return a.split("");if(goog.isArrayLike(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return goog.object.getValues(a)},goog.structs.getKeys=function(a){if("function"==typeof a.getKeys)return a.getKeys();if("function"==typeof a.getValues)return _UNDEFINED;if(goog.isArrayLike(a)||goog.isString(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(d);return b}return goog.object.getKeys(a)},goog.structs.contains=function(a,b){return"function"==typeof a.contains?a.contains(b):"function"==typeof a.containsValue?a.containsValue(b):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,b):goog.object.containsValue(a,b)},goog.structs.isEmpty=function(a){return"function"==typeof a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)},goog.structs.clear=function(a){"function"==typeof a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)},goog.structs.forEach=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,b,c);else for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)},goog.structs.filter=function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.filter(a,b,c);var d,e=goog.structs.getKeys(a),f=goog.structs.getValues(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)b.call(c,f[h],e[h],a)&&(d[e[h]]=f[h])}else{d=[];for(var h=0;h<g;h++)b.call(c,f[h],_UNDEFINED,a)&&d.push(f[h])}return d},goog.structs.map=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.map(a,b,c);var d,e=goog.structs.getKeys(a),f=goog.structs.getValues(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)d[e[h]]=b.call(c,f[h],e[h],a)}else{d=[];for(var h=0;h<g;h++)d[h]=b.call(c,f[h],_UNDEFINED,a)}return d},goog.structs.some=function(a,b,c){if("function"==typeof a.some)return a.some(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.some(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(b.call(c,e[g],d&&d[g],a))return _TRUE;return _FALSE},goog.structs.every=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.every(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(!b.call(c,e[g],d&&d[g],a))return _FALSE;return _TRUE},goog.provide("goog.structs.Map"),goog.structs.Map=function(a,b){this.map_={},this.keys_=[];var c=arguments.length;if(c>1){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)},goog.structs.Map.prototype.count_=0,goog.structs.Map.prototype.version_=0,goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.push(this.map_[c])}return a},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(a){return goog.structs.Map.hasKey_(this.map_,a)},goog.structs.Map.prototype.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(goog.structs.Map.hasKey_(this.map_,c)&&this.map_[c]==a)return _TRUE}return _FALSE},goog.structs.Map.prototype.equals=function(a,b){if(this===a)return _TRUE;if(this.count_!=a.getCount())return _FALSE;var c=b||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var d,e=0;d=this.keys_[e];e++)if(!c(this.get(d),a.get(d)))return _FALSE;return _TRUE},goog.structs.Map.defaultEquals=function(a,b){return a===b},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.keys_.length=0,this.count_=0,this.version_=0},goog.structs.Map.prototype.remove=function(a){return goog.structs.Map.hasKey_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),_TRUE):_FALSE},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];goog.structs.Map.hasKey_(this.map_,c)&&(this.keys_[b++]=c),a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];goog.structs.Map.hasKey_(d,c)||(this.keys_[b++]=c,d[c]=1),a++}this.keys_.length=b}},goog.structs.Map.prototype.get=function(a,b){return goog.structs.Map.hasKey_(this.map_,a)?this.map_[a]:b},goog.structs.Map.prototype.set=function(a,b){goog.structs.Map.hasKey_(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++),this.map_[a]=b},goog.structs.Map.prototype.addAll=function(a){var b,c;a instanceof goog.structs.Map?(b=a.getKeys(),c=a.getValues()):(b=goog.object.getKeys(a),c=goog.object.getValues(a));for(var d=0;d<b.length;d++)this.set(b[d],c[d])},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a},goog.structs.Map.prototype.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,d=this.map_,e=this.version_,f=this,g=new goog.iter.Iterator;return g.next=function(){for(;_TRUE;){if(e!=f.version_)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw goog.iter.StopIteration;var g=c[b++];return a?g:d[g]}},g},goog.structs.Map.hasKey_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},goog.provide("goog.structs.Set"),goog.structs.Set=function(a){this.map_=new goog.structs.Map,a&&this.addAll(a)},goog.structs.Set.getKey_=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+goog.getUid(a):b.substr(0,1)+a},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(a){this.map_.set(goog.structs.Set.getKey_(a),a)},goog.structs.Set.prototype.addAll=function(a){for(var b=goog.structs.getValues(a),c=b.length,d=0;d<c;d++)this.add(b[d])},goog.structs.Set.prototype.remove=function(a){return this.map_.remove(goog.structs.Set.getKey_(a))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(a){return this.map_.containsKey(goog.structs.Set.getKey_(a))},goog.structs.Set.prototype.containsAll=function(a){return goog.structs.every(a,this.contains,this)},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(a){
return this.getCount()==goog.structs.getCount(a)&&this.isSubsetOf(a)},goog.structs.Set.prototype.isSubsetOf=function(a){var b=goog.structs.getCount(a);return this.getCount()>b?_FALSE:(!(a instanceof goog.structs.Set)&&b>5&&(a=new goog.structs.Set(a)),goog.structs.every(this,function(b){return goog.structs.contains(a,b)}))},goog.structs.Set.prototype.__iterator__=function(a){return this.map_.__iterator__(_FALSE)},goog.provide("goog.disposable.IDisposable"),goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose,goog.disposable.IDisposable.prototype.isDisposed,goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.Disposable=function(){goog.Disposable.ENABLE_MONITORING&&(goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.ENABLE_MONITORING=_FALSE,goog.Disposable.instances_={},goog.Disposable.prototype.disposed_=_FALSE,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=_TRUE,this.disposeInternal(),goog.Disposable.ENABLE_MONITORING)){var a=goog.getUid(this);if(!goog.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[a]}},goog.Disposable.prototype.disposeInternal=function(){},goog.dispose=function(a){a&&"function"==typeof a.dispose&&a.dispose()},goog.provide("goog.dom.SavedRange"),goog.dom.SavedRange=function(){goog.Disposable.call(this)},goog.inherits(goog.dom.SavedRange,goog.Disposable),goog.dom.SavedRange.prototype.restore=function(a){var b=this.restoreInternal();return a||this.dispose(),b},goog.dom.SavedRange.prototype.restoreInternal=goog.abstractMethod,goog.provide("goog.dom.SavedCaretRange"),goog.dom.SavedCaretRange=function(a){goog.dom.SavedRange.call(this),this.startCaretId_=goog.string.createUniqueString(),this.endCaretId_=goog.string.createUniqueString(),this.dom_=goog.dom.getDomHelper(a.getDocument()),a.surroundWithNodes(this.createCaret_(_TRUE),this.createCaret_(_FALSE)),this.removeIncidentalTextNode_()},goog.inherits(goog.dom.SavedCaretRange,goog.dom.SavedRange),goog.dom.SavedCaretRange.prototype.getCaret=function(a){return this.dom_.getElement(a?this.startCaretId_:this.endCaretId_)},goog.dom.SavedCaretRange.prototype.removeIncidentalTextNode_=function(){var a=this.getCaret(_TRUE);this.removeIfEmptyText_(a.previousSibling),this.removeIfEmptyText_(a.nextSibling);var b=this.getCaret(_FALSE);this.removeIfEmptyText_(b.previousSibling),this.removeIfEmptyText_(b.nextSibling)},goog.dom.SavedCaretRange.prototype.removeIfEmptyText_=function(a){a&&a.nodeType===goog.dom.NodeType.TEXT&&!a.nodeValue&&goog.dom.removeNode(a)},goog.dom.SavedCaretRange.prototype.removeCarets=function(a){return $tx.msie_docmode<=8?(goog.dom.flattenElement(this.getCaret(_TRUE)),goog.dom.flattenElement(this.getCaret(_FALSE))):(goog.dom.removeNode(this.getCaret(_TRUE)),goog.dom.removeNode(this.getCaret(_FALSE))),a},goog.dom.SavedCaretRange.prototype.restoreInternal=function(){var a=_NULL,b=this.getCaret(_TRUE),c=this.getCaret(_FALSE);if(b&&c){var d=b.parentNode,e=goog.array.indexOf(d.childNodes,b),f=c.parentNode,g=goog.array.indexOf(f.childNodes,c);a=goog.dom.Range.createFromNodes(d,e+1,f,g),a.select()}return a},goog.dom.SavedCaretRange.prototype.disposeInternal=function(){this.removeCarets(),this.dom_=_NULL},goog.dom.SavedCaretRange.prototype.createCaret_=function(a){return this.dom_.createDom(goog.dom.TagName.SPAN,{id:a?this.startCaretId_:this.endCaretId_})},goog.dom.SavedCaretRange.CARET_REGEX=/<span\s+id="?goog_\d+"?><\/span>/gi,goog.provide("goog.dom.AbstractRange"),goog.provide("goog.dom.RangeIterator"),goog.provide("goog.dom.RangeType"),goog.dom.RangeType={TEXT:"text",CONTROL:"control",MULTI:"mutli"},goog.dom.AbstractRange=function(){},goog.dom.AbstractRange.getBrowserSelectionForWindow=function(a){if(a.getSelection)return a.getSelection();var b=a.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return _NULL}else if(!d.length||d.item(0).document!=b)return _NULL}catch(a){return _NULL}return c}return _NULL},goog.dom.AbstractRange.isNativeControlRange=function(a){return!!a&&!!a.addElement},goog.dom.AbstractRange.prototype.clone=goog.abstractMethod,goog.dom.AbstractRange.prototype.getType=goog.abstractMethod,goog.dom.AbstractRange.prototype.getBrowserRangeObject=goog.abstractMethod,goog.dom.AbstractRange.prototype.setBrowserRangeObject=function(a){return _FALSE},goog.dom.AbstractRange.prototype.getTextRangeCount=goog.abstractMethod,goog.dom.AbstractRange.prototype.getTextRange=goog.abstractMethod,goog.dom.AbstractRange.prototype.getTextRanges=function(){for(var a=[],b=0,c=this.getTextRangeCount();b<c;b++)a.push(this.getTextRange(b));return a},goog.dom.AbstractRange.prototype.getContainer=goog.abstractMethod,goog.dom.AbstractRange.prototype.getStartNode=goog.abstractMethod,goog.dom.AbstractRange.prototype.getStartOffset=goog.abstractMethod,goog.dom.AbstractRange.prototype.getEndNode=goog.abstractMethod,goog.dom.AbstractRange.prototype.getEndOffset=goog.abstractMethod,goog.dom.AbstractRange.prototype.getAnchorNode=function(){return this.isReversed()?this.getEndNode():this.getStartNode()},goog.dom.AbstractRange.prototype.getAnchorOffset=function(){return this.isReversed()?this.getEndOffset():this.getStartOffset()},goog.dom.AbstractRange.prototype.getFocusNode=function(){return this.isReversed()?this.getStartNode():this.getEndNode()},goog.dom.AbstractRange.prototype.getFocusOffset=function(){return this.isReversed()?this.getStartOffset():this.getEndOffset()},goog.dom.AbstractRange.prototype.isReversed=function(){return _FALSE},goog.dom.AbstractRange.prototype.getDocument=function(){return goog.dom.getOwnerDocument(goog.userAgent.IE?this.getContainer():this.getStartNode())},goog.dom.AbstractRange.prototype.getWindow=function(){return goog.dom.getWindow(this.getDocument())},goog.dom.AbstractRange.prototype.containsRange=goog.abstractMethod,goog.dom.AbstractRange.prototype.containsNode=function(a,b){return this.containsRange(goog.dom.Range.createFromNodeContents(a),b)},goog.dom.AbstractRange.prototype.isRangeInDocument=goog.abstractMethod,goog.dom.AbstractRange.prototype.isCollapsed=goog.abstractMethod,goog.dom.AbstractRange.prototype.getText=goog.abstractMethod,goog.dom.AbstractRange.prototype.getHtmlFragment=goog.abstractMethod,goog.dom.AbstractRange.prototype.getValidHtml=goog.abstractMethod,goog.dom.AbstractRange.prototype.getPastableHtml=goog.abstractMethod,goog.dom.AbstractRange.prototype.__iterator__=goog.abstractMethod,goog.dom.AbstractRange.prototype.select=goog.abstractMethod;goog.dom.AbstractRange.prototype.removeContents=goog.abstractMethod,goog.dom.AbstractRange.prototype.insertNode=goog.abstractMethod,goog.dom.AbstractRange.prototype.surroundWithNodes=goog.abstractMethod,goog.dom.AbstractRange.prototype.saveUsingDom=goog.abstractMethod,goog.dom.AbstractRange.prototype.saveUsingCarets=function(){return this.getStartNode()&&this.getEndNode()?new goog.dom.SavedCaretRange(this):_NULL},goog.dom.AbstractRange.prototype.collapse=goog.abstractMethod,goog.dom.RangeIterator=function(a,b){goog.dom.TagIterator.call(this,a,b,_TRUE)},goog.inherits(goog.dom.RangeIterator,goog.dom.TagIterator),goog.dom.RangeIterator.prototype.getStartTextOffset=goog.abstractMethod,goog.dom.RangeIterator.prototype.getEndTextOffset=goog.abstractMethod,goog.dom.RangeIterator.prototype.getStartNode=goog.abstractMethod,goog.dom.RangeIterator.prototype.getEndNode=goog.abstractMethod,goog.dom.RangeIterator.prototype.isLast=goog.abstractMethod,goog.provide("goog.dom.AbstractMultiRange"),goog.dom.AbstractMultiRange=function(){},goog.inherits(goog.dom.AbstractMultiRange,goog.dom.AbstractRange),goog.dom.AbstractMultiRange.prototype.containsRange=function(a,b){var c=this.getTextRanges(),d=a.getTextRanges();return(b?goog.array.some:goog.array.every)(d,function(a){return goog.array.some(c,function(c){return c.containsRange(a,b)})})},goog.dom.AbstractMultiRange.prototype.insertNode=function(a,b){return b?goog.dom.insertSiblingBefore(a,this.getStartNode()):goog.dom.insertSiblingAfter(a,this.getEndNode()),a},goog.dom.AbstractMultiRange.prototype.surroundWithNodes=function(a,b){this.insertNode(a,_TRUE),this.insertNode(b,_FALSE)},goog.provide("goog.dom.TextRangeIterator"),goog.dom.TextRangeIterator=function(a,b,c,d,e){var f;if(a){if(this.startNode_=a,this.startOffset_=b,this.endNode_=c,this.endOffset_=d,a.nodeType==goog.dom.NodeType.ELEMENT&&a.tagName!=goog.dom.TagName.BR){var g=a.childNodes,h=g[b];h?(this.startNode_=h,this.startOffset_=0):(g.length&&(this.startNode_=goog.array.peek(g)),f=_TRUE)}c.nodeType==goog.dom.NodeType.ELEMENT&&(this.endNode_=c.childNodes[d],this.endNode_?this.endOffset_=0:this.endNode_=c)}if(goog.dom.RangeIterator.call(this,e?this.endNode_:this.startNode_,e),f)try{this.next()}catch(a){if(a!=goog.iter.StopIteration)throw a}},goog.inherits(goog.dom.TextRangeIterator,goog.dom.RangeIterator),goog.dom.TextRangeIterator.prototype.startNode_=_NULL,goog.dom.TextRangeIterator.prototype.endNode_=_NULL,goog.dom.TextRangeIterator.prototype.startOffset_=0,goog.dom.TextRangeIterator.prototype.endOffset_=0,goog.dom.TextRangeIterator.prototype.getStartTextOffset=function(){return this.node.nodeType!=goog.dom.NodeType.TEXT?-1:this.node==this.startNode_?this.startOffset_:0},goog.dom.TextRangeIterator.prototype.getEndTextOffset=function(){return this.node.nodeType!=goog.dom.NodeType.TEXT?-1:this.node==this.endNode_?this.endOffset_:this.node.nodeValue.length},goog.dom.TextRangeIterator.prototype.getStartNode=function(){return this.startNode_},goog.dom.TextRangeIterator.prototype.setStartNode=function(a){this.isStarted()||this.setPosition(a),this.startNode_=a,this.startOffset_=0},goog.dom.TextRangeIterator.prototype.getEndNode=function(){return this.endNode_},goog.dom.TextRangeIterator.prototype.setEndNode=function(a){this.endNode_=a,this.endOffset_=0},goog.dom.TextRangeIterator.prototype.isLast=function(){return this.isStarted()&&this.node==this.endNode_&&(!this.endOffset_||!this.isStartTag())},goog.dom.TextRangeIterator.prototype.next=function(){if(this.isLast())throw goog.iter.StopIteration;return goog.dom.TextRangeIterator.superClass_.next.call(this)},goog.dom.TextRangeIterator.prototype.skipTag=function(){if(goog.dom.TextRangeIterator.superClass_.skipTag.apply(this),goog.dom.contains(this.node,this.endNode_))throw goog.iter.StopIteration},goog.dom.TextRangeIterator.prototype.copyFrom=function(a){this.startNode_=a.startNode_,this.endNode_=a.endNode_,this.startOffset_=a.startOffset_,this.endOffset_=a.endOffset_,this.isReversed_=a.isReversed_,goog.dom.TextRangeIterator.superClass_.copyFrom.call(this,a)},goog.dom.TextRangeIterator.prototype.clone=function(){var a=new goog.dom.TextRangeIterator(this.startNode_,this.startOffset_,this.endNode_,this.endOffset_,this.isReversed_);return a.copyFrom(this),a},goog.provide("goog.userAgent.jscript"),goog.userAgent.jscript.ASSUME_NO_JSCRIPT=_FALSE,goog.userAgent.jscript.init_=function(){var a="ScriptEngine"in goog.global;goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_=a&&"JScript"==goog.global.ScriptEngine(),goog.userAgent.jscript.DETECTED_VERSION_=goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_?goog.global.ScriptEngineMajorVersion()+"."+goog.global.ScriptEngineMinorVersion()+"."+goog.global.ScriptEngineBuildVersion():"0"},goog.userAgent.jscript.ASSUME_NO_JSCRIPT||goog.userAgent.jscript.init_(),goog.userAgent.jscript.HAS_JSCRIPT=goog.userAgent.jscript.ASSUME_NO_JSCRIPT?_FALSE:goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_,goog.userAgent.jscript.VERSION=goog.userAgent.jscript.ASSUME_NO_JSCRIPT?"0":goog.userAgent.jscript.DETECTED_VERSION_,goog.userAgent.jscript.isVersion=function(a){return goog.string.compareVersions(goog.userAgent.jscript.VERSION,a)>=0},goog.provide("goog.string.StringBuffer"),goog.string.StringBuffer=function(a,b){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"",a!=_NULL&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.set=function(a){this.clear(),this.append(a)},goog.userAgent.jscript.HAS_JSCRIPT?(goog.string.StringBuffer.prototype.bufferLength_=0,goog.string.StringBuffer.prototype.append=function(a,b,c){return b==_NULL?this.buffer_[this.bufferLength_++]=a:(this.buffer_.push.apply(this.buffer_,arguments),this.bufferLength_=this.buffer_.length),this}):goog.string.StringBuffer.prototype.append=function(a,b,c){if(this.buffer_+=a,b!=_NULL)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this},goog.string.StringBuffer.prototype.clear=function(){goog.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.toString().length},goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var a=this.buffer_.join("");return this.clear(),a&&this.append(a),a}return this.buffer_},goog.provide("goog.dom.RangeEndpoint"),goog.dom.RangeEndpoint={START:1,END:0},goog.provide("goog.dom.browserrange.AbstractRange"),goog.dom.browserrange.AbstractRange=function(){},goog.dom.browserrange.AbstractRange.prototype.clone=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getBrowserRange=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getContainer=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getStartNode=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getStartOffset=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getEndNode=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getEndOffset=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.compareBrowserRangeEndpoints=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.containsRange=function(a,b){var c=b&&!a.isCollapsed(),d=a.getBrowserRange(),e=goog.dom.RangeEndpoint.START,f=goog.dom.RangeEndpoint.END;try{return c?this.compareBrowserRangeEndpoints(d,f,e)>=0&&this.compareBrowserRangeEndpoints(d,e,f)<=0:this.compareBrowserRangeEndpoints(d,f,f)>=0&&this.compareBrowserRangeEndpoints(d,e,e)<=0}catch(a){if(!goog.userAgent.IE)throw a;return _FALSE}},goog.dom.browserrange.AbstractRange.prototype.containsNode=function(a,b){return this.containsRange(goog.dom.browserrange.createRangeFromNodeContents(a),b)},goog.dom.browserrange.AbstractRange.prototype.isCollapsed=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getText=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getHtmlFragment=function(){var a=new goog.string.StringBuffer;return goog.iter.forEach(this,function(b,c,d){if(b.nodeType==goog.dom.NodeType.TEXT)a.append(goog.string.htmlEscape(b.nodeValue.substring(d.getStartTextOffset(),d.getEndTextOffset())));else if(b.nodeType==goog.dom.NodeType.ELEMENT)if(d.isEndTag())goog.dom.canHaveChildren(b)&&a.append("</"+b.tagName+">");else{var e=b.cloneNode(_FALSE),f=goog.dom.getOuterHtml(e);if(goog.userAgent.IE&&b.tagName==goog.dom.TagName.LI)a.append(f);else{var g=f.lastIndexOf("<");a.append(g?f.substr(0,g):f)}}},this),a.toString()},goog.dom.browserrange.AbstractRange.prototype.getValidHtml=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.__iterator__=function(a){return new goog.dom.TextRangeIterator(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset())},goog.dom.browserrange.AbstractRange.prototype.select=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.removeContents=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.surroundContents=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.insertNode=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.surroundWithNodes=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.collapse=goog.abstractMethod,goog.provide("goog.dom.browserrange.W3cRange"),goog.dom.browserrange.W3cRange=function(a){this.range_=a},goog.inherits(goog.dom.browserrange.W3cRange,goog.dom.browserrange.AbstractRange),goog.dom.browserrange.W3cRange.getBrowserRangeForNode=function(a){var b=goog.dom.getOwnerDocument(a).createRange();if(a.nodeType==goog.dom.NodeType.TEXT)b.setStart(a,0),b.setEnd(a,a.length);else if(goog.dom.browserrange.canContainRangeEndpoint(a)){for(var c,d=a;(c=d.firstChild)&&goog.dom.browserrange.canContainRangeEndpoint(c);)d=c;for(b.setStart(d,0),d=a;(c=d.lastChild)&&goog.dom.browserrange.canContainRangeEndpoint(c);)d=c;b.setEnd(d,d.nodeType==goog.dom.NodeType.ELEMENT?d.childNodes.length:d.length)}else{var e=a.parentNode,f=goog.array.indexOf(e.childNodes,a);b.setStart(e,f),b.setEnd(e,f+1)}return b},goog.dom.browserrange.W3cRange.getBrowserRangeForNodes=function(a,b,c,d){var e=goog.dom.getOwnerDocument(a).createRange();return e.setStart(a,b),e.setEnd(c,d),e},goog.dom.browserrange.W3cRange.createFromNodeContents=function(a){return new goog.dom.browserrange.W3cRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(a))},goog.dom.browserrange.W3cRange.createFromNodes=function(a,b,c,d){return new goog.dom.browserrange.W3cRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(a,b,c,d))},goog.dom.browserrange.W3cRange.prototype.clone=function(){return new this.constructor(this.range_.cloneRange())},goog.dom.browserrange.W3cRange.prototype.getBrowserRange=function(){return this.range_},goog.dom.browserrange.W3cRange.prototype.getContainer=function(){return this.range_.commonAncestorContainer},goog.dom.browserrange.W3cRange.prototype.getStartNode=function(){return this.range_.startContainer},goog.dom.browserrange.W3cRange.prototype.getStartOffset=function(){return this.range_.startOffset},goog.dom.browserrange.W3cRange.prototype.getEndNode=function(){return this.range_.endContainer},goog.dom.browserrange.W3cRange.prototype.getEndOffset=function(){return this.range_.endOffset},goog.dom.browserrange.W3cRange.prototype.compareBrowserRangeEndpoints=function(a,b,c){return this.range_.compareBoundaryPoints(c==goog.dom.RangeEndpoint.START?b==goog.dom.RangeEndpoint.START?goog.global.Range.START_TO_START:goog.global.Range.START_TO_END:b==goog.dom.RangeEndpoint.START?goog.global.Range.END_TO_START:goog.global.Range.END_TO_END,a)},goog.dom.browserrange.W3cRange.prototype.isCollapsed=function(){return this.range_.collapsed},goog.dom.browserrange.W3cRange.prototype.getText=function(){return this.range_.toString()},goog.dom.browserrange.W3cRange.prototype.getValidHtml=function(){var a=goog.dom.getDomHelper(this.range_.startContainer).createDom("div");a.appendChild(this.range_.cloneContents());var b=a.innerHTML;if(goog.string.startsWith(b,"<")||!this.isCollapsed()&&!goog.string.contains(b,"<"))return b;var c=this.getContainer();return c=c.nodeType==goog.dom.NodeType.ELEMENT?c:c.parentNode,goog.dom.getOuterHtml(c.cloneNode(_FALSE)).replace(">",">"+b)},goog.dom.browserrange.W3cRange.prototype.select=function(a){var b=goog.dom.getWindow(goog.dom.getOwnerDocument(this.getStartNode()));this.selectInternal(b.getSelection(),a)},goog.dom.browserrange.W3cRange.prototype.selectInternal=function(a,b){a.removeAllRanges(),a.addRange(this.range_)},goog.dom.browserrange.W3cRange.prototype.removeContents=function(){var a=this.range_;if(a.extractContents(),a.startContainer.hasChildNodes()){var b=a.startContainer.childNodes[a.startOffset];if(b){var c=b.previousSibling;""==goog.dom.getRawTextContent(b)&&goog.dom.removeNode(b),c&&""==goog.dom.getRawTextContent(c)&&goog.dom.removeNode(c)}}},goog.dom.browserrange.W3cRange.prototype.surroundContents=function(a){return this.range_.surroundContents(a),a},goog.dom.browserrange.W3cRange.prototype.insertNode=function(a,b){var c=this.range_.cloneRange();return c.collapse(b),c.insertNode(a),c.detach(),a},goog.dom.browserrange.W3cRange.prototype.surroundWithNodes=function(a,b){var c=goog.dom.getWindow(goog.dom.getOwnerDocument(this.getStartNode())),d=goog.dom.Range.createFromWindow(c);if(d)var e=d.getStartNode(),f=d.getEndNode(),g=d.getStartOffset(),h=d.getEndOffset();var i=this.range_.cloneRange(),j=this.range_.cloneRange();if(i.collapse(_FALSE),j.collapse(_TRUE),i.insertNode(b),j.insertNode(a),i.detach(),j.detach(),d){var k=function(c){return c==a||c==b};if(e.nodeType==goog.dom.NodeType.TEXT)for(;g>e.length;){g-=e.length;do{e=e.nextSibling}while(k(e))}if(f.nodeType==goog.dom.NodeType.TEXT)for(;h>f.length;){h-=f.length;do{f=f.nextSibling}while(k(f))}goog.dom.Range.createFromNodes(e,g,f,h).select()}},goog.dom.browserrange.W3cRange.prototype.collapse=function(a){this.range_.collapse(a)},goog.provide("goog.dom.browserrange.WebKitRange"),goog.dom.browserrange.WebKitRange=function(a){goog.dom.browserrange.W3cRange.call(this,a)},goog.inherits(goog.dom.browserrange.WebKitRange,goog.dom.browserrange.W3cRange),goog.dom.browserrange.WebKitRange.createFromNodeContents=function(a){return new goog.dom.browserrange.WebKitRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(a))},goog.dom.browserrange.WebKitRange.createFromNodes=function(a,b,c,d){return new goog.dom.browserrange.WebKitRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(a,b,c,d))},goog.dom.browserrange.WebKitRange.prototype.compareBrowserRangeEndpoints=function(a,b,c){return goog.userAgent.isVersion("528")?goog.dom.browserrange.WebKitRange.superClass_.compareBrowserRangeEndpoints.call(this,a,b,c):this.range_.compareBoundaryPoints(c==goog.dom.RangeEndpoint.START?b==goog.dom.RangeEndpoint.START?goog.global.Range.START_TO_START:goog.global.Range.END_TO_START:b==goog.dom.RangeEndpoint.START?goog.global.Range.START_TO_END:goog.global.Range.END_TO_END,a)},goog.dom.browserrange.WebKitRange.prototype.selectInternal=function(a,b){a.removeAllRanges(),b?a.setBaseAndExtent(this.getEndNode(),this.getEndOffset(),this.getStartNode(),this.getStartOffset()):a.setBaseAndExtent(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset())},goog.provide("goog.dom.NodeIterator"),goog.dom.NodeIterator=function(a,b,c,d){goog.dom.TagIterator.call(this,a,b,c,_NULL,d)},goog.inherits(goog.dom.NodeIterator,goog.dom.TagIterator),goog.dom.NodeIterator.prototype.next=function(){do{goog.dom.NodeIterator.superClass_.next.call(this)}while(this.isEndTag());return this.node},goog.provide("goog.dom.browserrange.IeRange"),goog.dom.browserrange.IeRange=function(a,b){this.range_=a,this.doc_=b},goog.inherits(goog.dom.browserrange.IeRange,goog.dom.browserrange.AbstractRange),goog.dom.browserrange.IeRange.getBrowserRangeForNode_=function(a){var b=goog.dom.getOwnerDocument(a).body.createTextRange();if(a.nodeType==goog.dom.NodeType.ELEMENT)b.moveToElementText(a),goog.dom.browserrange.canContainRangeEndpoint(a)&&!a.childNodes.length&&b.collapse(_FALSE);else{for(var c=0,d=a;d=d.previousSibling;){var e=d.nodeType;if(e==goog.dom.NodeType.TEXT)c+=d.length;else if(e==goog.dom.NodeType.ELEMENT){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode),b.collapse(!d),c&&b.move("character",c),b.moveEnd("character",a.length)}return b},goog.dom.browserrange.IeRange.getBrowserRangeForNodes_=function(a,b,c,d){var e,f=_FALSE;a.nodeType==goog.dom.NodeType.ELEMENT&&(e=a.childNodes[b],f=!e,a=e||a.lastChild||a,b=0);var g=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(a);if(b&&g.move("character",b),a==c&&b==d)return g.collapse(_TRUE),g;f&&g.collapse(_FALSE),f=_FALSE,c.nodeType==goog.dom.NodeType.ELEMENT&&(e=c.childNodes[d],c=e||c.lastChild||c,d=0,f=!e);var h=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(c);return h.collapse(!f),d&&h.moveEnd("character",d),g.setEndPoint("EndToEnd",h),g},goog.dom.browserrange.IeRange.createFromNodeContents=function(a){var b=new goog.dom.browserrange.IeRange(goog.dom.browserrange.IeRange.getBrowserRangeForNode_(a),goog.dom.getOwnerDocument(a));if(goog.dom.browserrange.canContainRangeEndpoint(a)){for(var c,d=a;(c=d.firstChild)&&goog.dom.browserrange.canContainRangeEndpoint(c);)d=c;for(b.startNode_=d,b.startOffset_=0,d=a;(c=d.lastChild)&&goog.dom.browserrange.canContainRangeEndpoint(c);)d=c;b.endNode_=d,b.endOffset_=d.nodeType==goog.dom.NodeType.ELEMENT?d.childNodes.length:d.length,b.parentNode_=a}else b.startNode_=b.endNode_=b.parentNode_=a.parentNode,b.startOffset_=goog.array.indexOf(b.parentNode_.childNodes,a),b.endOffset_=b.startOffset_+1;return b},goog.dom.browserrange.IeRange.createFromNodes=function(a,b,c,d){var e=new goog.dom.browserrange.IeRange(goog.dom.browserrange.IeRange.getBrowserRangeForNodes_(a,b,c,d),goog.dom.getOwnerDocument(a));return e.startNode_=a,e.startOffset_=b,e.endNode_=c,e.endOffset_=d,e},goog.dom.browserrange.IeRange.prototype.parentNode_=_NULL,goog.dom.browserrange.IeRange.prototype.startNode_=_NULL,goog.dom.browserrange.IeRange.prototype.endNode_=_NULL,goog.dom.browserrange.IeRange.prototype.startOffset_=-1,goog.dom.browserrange.IeRange.prototype.endOffset_=-1,goog.dom.browserrange.IeRange.prototype.clone=function(){var a=new goog.dom.browserrange.IeRange(this.range_.duplicate(),this.doc_);return a.parentNode_=this.parentNode_,a.startNode_=this.startNode_,a.endNode_=this.endNode_,a},goog.dom.browserrange.IeRange.prototype.getBrowserRange=function(){return this.range_},goog.dom.browserrange.IeRange.prototype.clearCachedValues_=function(){this.parentNode_=this.startNode_=this.endNode_=_NULL,this.startOffset_=this.endOffset_=-1},goog.dom.browserrange.IeRange.prototype.getContainer=function(){if(!this.parentNode_){var a=this.range_.text,b=this.range_.duplicate(),c=a.replace(/ +$/,""),d=a.length-c.length;d&&b.moveEnd("character",-d);var e=b.parentElement(),f=b.htmlText,g=goog.string.stripNewlines(f).length;if(this.isCollapsed()&&g>0)return this.parentNode_=e;for(;g>goog.string.stripNewlines(e.outerHTML).length;)e=e.parentNode;for(;1==e.childNodes.length&&e.firstChild&&e.innerText==goog.dom.browserrange.IeRange.getNodeText_(e.firstChild)&&goog.dom.browserrange.canContainRangeEndpoint(e.firstChild);)e=e.firstChild;0==a.length&&(e=this.findDeepestContainer_(e)),this.parentNode_=e}return this.parentNode_},goog.dom.browserrange.IeRange.prototype.findDeepestContainer_=function(a){for(var b=a.childNodes,c=0,d=b.length;c<d;c++){var e=b[c];if(goog.dom.browserrange.canContainRangeEndpoint(e)){var f=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(e),g=goog.dom.RangeEndpoint.START,h=goog.dom.RangeEndpoint.END,i=f.htmlText!=e.outerHTML;if(this.isCollapsed()&&i?this.compareBrowserRangeEndpoints(f,g,g)>=0&&this.compareBrowserRangeEndpoints(f,g,h)<=0:this.range_.inRange(f))return this.findDeepestContainer_(e)}}return a},goog.dom.browserrange.IeRange.prototype.getStartNode=function(){return this.startNode_||(this.startNode_=this.getEndpointNode_(goog.dom.RangeEndpoint.START),this.isCollapsed()&&(this.endNode_=this.startNode_)),this.startNode_},goog.dom.browserrange.IeRange.prototype.getStartOffset=function(){return this.startOffset_<0&&(this.startOffset_=this.getOffset_(goog.dom.RangeEndpoint.START),this.isCollapsed()&&(this.endOffset_=this.startOffset_)),this.startOffset_},goog.dom.browserrange.IeRange.prototype.getEndNode=function(){return this.isCollapsed()?this.getStartNode():(this.endNode_||(this.endNode_=this.getEndpointNode_(goog.dom.RangeEndpoint.END)),this.endNode_)},goog.dom.browserrange.IeRange.prototype.getEndOffset=function(){return this.isCollapsed()?this.getStartOffset():(this.endOffset_<0&&(this.endOffset_=this.getOffset_(goog.dom.RangeEndpoint.END),this.isCollapsed()&&(this.startOffset_=this.endOffset_)),this.endOffset_)},goog.dom.browserrange.IeRange.prototype.compareBrowserRangeEndpoints=function(a,b,c){return this.range_.compareEndPoints((b==goog.dom.RangeEndpoint.START?"Start":"End")+"To"+(c==goog.dom.RangeEndpoint.START?"Start":"End"),a)},goog.dom.browserrange.IeRange.prototype.getEndpointNode_=function(a,b){var c=b||this.getContainer();if(!c||!c.firstChild)return c;for(var d=goog.dom.RangeEndpoint.START,e=goog.dom.RangeEndpoint.END,f=a==d,g=0,h=c.childNodes.length;g<h;g++){var i,j=f?g:h-g-1,k=c.childNodes[j];try{i=goog.dom.browserrange.createRangeFromNodeContents(k)}catch(a){continue}var l=i.getBrowserRange();if(this.isCollapsed()){if(goog.dom.browserrange.canContainRangeEndpoint(k)){if(i.containsRange(this))return this.getEndpointNode_(a,k)}else if(0==this.compareBrowserRangeEndpoints(l,d,d))return this.startOffset_=this.endOffset_=j,c}else{if(this.containsRange(i)){if(!goog.dom.browserrange.canContainRangeEndpoint(k))return f?this.startOffset_=j:this.endOffset_=j+1,c;for(;1==k.childNodes.length;)k=k.firstChild;return this.getEndpointNode_(a,k)}if(this.compareBrowserRangeEndpoints(l,d,e)<0&&this.compareBrowserRangeEndpoints(l,e,d)>0){for(;1==k.childNodes.length&&k.firstChild;)k=k.firstChild;return this.getEndpointNode_(a,k)}}}return c},goog.dom.browserrange.IeRange.prototype.compareNodeEndpoints_=function(a,b,c){return this.range_.compareEndPoints((b==goog.dom.RangeEndpoint.START?"Start":"End")+"To"+(c==goog.dom.RangeEndpoint.START?"Start":"End"),goog.dom.browserrange.createRangeFromNodeContents(a).getBrowserRange())},goog.dom.browserrange.IeRange.prototype.getOffset_=function(a,b){var c=a==goog.dom.RangeEndpoint.START,d=b||(c?this.getStartNode():this.getEndNode());if(d.nodeType==goog.dom.NodeType.ELEMENT){for(var e=d.childNodes,f=e.length,g=c?0:f-1,h=c?1:-1,i=g;i>=0&&i<f;i+=h){var j=e[i];if(!goog.dom.browserrange.canContainRangeEndpoint(j)){if(0==this.compareNodeEndpoints_(j,a,a))return c?i:i+1}}return-1==i?0:i}var k=this.range_.duplicate(),l=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(d);k.setEndPoint(c?"EndToEnd":"StartToStart",l);var m=k.text.length;return c?d.length-m:m},goog.dom.browserrange.IeRange.getNodeText_=function(a){return a.nodeType==goog.dom.NodeType.TEXT?a.nodeValue:a.innerText},goog.dom.browserrange.IeRange.prototype.isRangeInDocument=function(){var a=this.doc_.body.createTextRange();return a.moveToElementText(this.doc_.body),this.containsRange(new goog.dom.browserrange.IeRange(a,this.doc_),_TRUE)},goog.dom.browserrange.IeRange.prototype.isCollapsed=function(){return 0==this.range_.compareEndPoints("StartToEnd",this.range_)},goog.dom.browserrange.IeRange.prototype.getText=function(){return this.range_.text},goog.dom.browserrange.IeRange.prototype.getValidHtml=function(){return this.range_.htmlText},goog.dom.browserrange.IeRange.prototype.select=function(a){this.range_.select()},goog.dom.browserrange.IeRange.prototype.removeContents=function(){if(this.range_.htmlText){var a=this.getStartNode(),b=this.getEndNode(),c=this.range_.text,d=this.range_.duplicate();if(d.moveStart("character",1),d.moveStart("character",-1),d.text!=c){var e=new goog.dom.NodeIterator(a,_FALSE,_TRUE),f=[];return goog.iter.forEach(e,function(a){if(a.nodeType!=goog.dom.NodeType.TEXT&&this.containsNode(a)&&(f.push(a),e.skipTag()),a==b)throw goog.iter.StopIteration}),this.collapse(_TRUE),goog.array.forEach(f,goog.dom.removeNode),void this.clearCachedValues_()}this.range_=d,this.range_.text="",this.clearCachedValues_();var g=this.getStartNode(),h=this.getStartOffset();try{var i=a.nextSibling;a==b&&a.parentNode&&a.nodeType==goog.dom.NodeType.TEXT&&i&&i.nodeType==goog.dom.NodeType.TEXT&&(a.nodeValue+=i.nodeValue,goog.dom.removeNode(i),this.range_=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(g),this.range_.move("character",h),this.clearCachedValues_())}catch(a){}}},goog.dom.browserrange.IeRange.getDomHelper_=function(a){return goog.dom.getDomHelper(a.parentElement())},goog.dom.browserrange.IeRange.pasteElement_=function(a,b,c){c=c||goog.dom.browserrange.IeRange.getDomHelper_(a);var d,e=d=b.id;return d||(d=b.id=goog.string.createUniqueString()),a.pasteHTML(b.outerHTML),b=c.getElement(d),b&&(e||b.removeAttribute("id")),b},goog.dom.browserrange.IeRange.prototype.surroundContents=function(a){return goog.dom.removeNode(a),a.innerHTML=this.range_.htmlText,a=goog.dom.browserrange.IeRange.pasteElement_(this.range_,a),a&&this.range_.moveToElementText(a),
this.clearCachedValues_(),a},goog.dom.browserrange.IeRange.insertNode_=function(a,b,c,d){d=d||goog.dom.browserrange.IeRange.getDomHelper_(a);var e;if(b.nodeType!=goog.dom.NodeType.ELEMENT&&(e=_TRUE,b=d.createDom(goog.dom.TagName.SPAN,_NULL,b)),a.collapse(c),b=goog.dom.browserrange.IeRange.pasteElement_(a,b,d),e){var f=b.firstChild;d.flattenElement(b),b=f}return b},goog.dom.browserrange.IeRange.prototype.insertNode=function(a,b){var c=goog.dom.browserrange.IeRange.insertNode_(this.range_.duplicate(),a,b);return this.clearCachedValues_(),c},goog.dom.browserrange.IeRange.prototype.surroundWithNodes=function(a,b){var c=this.range_.duplicate(),d=this.range_.duplicate();goog.dom.browserrange.IeRange.insertNode_(c,a,_TRUE),goog.dom.browserrange.IeRange.insertNode_(d,b,_FALSE),this.clearCachedValues_()},goog.dom.browserrange.IeRange.prototype.collapse=function(a){this.range_.collapse(a),a?(this.endNode_=this.startNode_,this.endOffset_=this.startOffset_):(this.startNode_=this.endNode_,this.startOffset_=this.endOffset_)},goog.provide("goog.dom.browserrange.GeckoRange"),goog.dom.browserrange.GeckoRange=function(a){goog.dom.browserrange.W3cRange.call(this,a)},goog.inherits(goog.dom.browserrange.GeckoRange,goog.dom.browserrange.W3cRange),goog.dom.browserrange.GeckoRange.createFromNodeContents=function(a){return new goog.dom.browserrange.GeckoRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(a))},goog.dom.browserrange.GeckoRange.createFromNodes=function(a,b,c,d){return new goog.dom.browserrange.GeckoRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(a,b,c,d))},goog.dom.browserrange.GeckoRange.prototype.selectInternal=function(a,b){var c=b?this.getEndNode():this.getStartNode(),d=b?this.getEndOffset():this.getStartOffset(),e=b?this.getStartNode():this.getEndNode(),f=b?this.getStartOffset():this.getEndOffset();a.collapse(c,d),c==e&&d==f||a.extend(e,f)},goog.provide("goog.dom.browserrange.OperaRange"),goog.dom.browserrange.OperaRange=function(a){goog.dom.browserrange.W3cRange.call(this,a)},goog.inherits(goog.dom.browserrange.OperaRange,goog.dom.browserrange.W3cRange),goog.dom.browserrange.OperaRange.createFromNodeContents=function(a){return new goog.dom.browserrange.OperaRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(a))},goog.dom.browserrange.OperaRange.createFromNodes=function(a,b,c,d){return new goog.dom.browserrange.OperaRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(a,b,c,d))},goog.dom.browserrange.OperaRange.prototype.selectInternal=function(a,b){a.collapse(this.getStartNode(),this.getStartOffset()),this.getEndNode()==this.getStartNode()&&this.getEndOffset()==this.getStartOffset()||a.extend(this.getEndNode(),this.getEndOffset()),0==a.rangeCount&&a.addRange(this.range_)},goog.provide("goog.dom.browserrange"),goog.provide("goog.dom.browserrange.Error"),goog.dom.browserrange.Error={NOT_IMPLEMENTED:"Not Implemented"},goog.dom.browserrange.createRange=function(a){return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)?new goog.dom.browserrange.IeRange(a,goog.dom.getOwnerDocument(a.parentElement())):goog.userAgent.WEBKIT?new goog.dom.browserrange.WebKitRange(a):goog.userAgent.GECKO?new goog.dom.browserrange.GeckoRange(a):goog.userAgent.OPERA?new goog.dom.browserrange.OperaRange(a):new goog.dom.browserrange.W3cRange(a)},goog.dom.browserrange.createRangeFromNodeContents=function(a){return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)?goog.dom.browserrange.IeRange.createFromNodeContents(a):goog.userAgent.WEBKIT?goog.dom.browserrange.WebKitRange.createFromNodeContents(a):goog.userAgent.GECKO?goog.dom.browserrange.GeckoRange.createFromNodeContents(a):goog.userAgent.OPERA?goog.dom.browserrange.OperaRange.createFromNodeContents(a):goog.dom.browserrange.W3cRange.createFromNodeContents(a)},goog.dom.browserrange.createRangeFromNodes=function(a,b,c,d){return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)?goog.dom.browserrange.IeRange.createFromNodes(a,b,c,d):goog.userAgent.WEBKIT?goog.dom.browserrange.WebKitRange.createFromNodes(a,b,c,d):goog.userAgent.GECKO?goog.dom.browserrange.GeckoRange.createFromNodes(a,b,c,d):goog.userAgent.OPERA?goog.dom.browserrange.OperaRange.createFromNodes(a,b,c,d):goog.dom.browserrange.W3cRange.createFromNodes(a,b,c,d)},goog.dom.browserrange.canContainRangeEndpoint=function(a){return goog.dom.canHaveChildren(a)||a.nodeType==goog.dom.NodeType.TEXT},goog.provide("goog.dom.TextRange"),goog.dom.TextRange=function(){},goog.inherits(goog.dom.TextRange,goog.dom.AbstractRange),goog.dom.TextRange.createFromBrowserRange=function(a,b){return goog.dom.TextRange.createFromBrowserRangeWrapper_(goog.dom.browserrange.createRange(a),b)},goog.dom.TextRange.createFromBrowserRangeWrapper_=function(a,b){var c=new goog.dom.TextRange;return c.browserRangeWrapper_=a,c.isReversed_=!!b,c},goog.dom.TextRange.createFromNodeContents=function(a,b){return goog.dom.TextRange.createFromBrowserRangeWrapper_(goog.dom.browserrange.createRangeFromNodeContents(a),b)},goog.dom.TextRange.createFromNodes=function(a,b,c,d){var e=new goog.dom.TextRange;if(e.isReversed_=goog.dom.Range.isReversed(a,b,c,d),"BR"==a.tagName){var f=a.parentNode;b=goog.array.indexOf(f.childNodes,a),a=f}if("BR"==c.tagName){var f=c.parentNode;d=goog.array.indexOf(f.childNodes,c),c=f}return e.isReversed_?(e.startNode_=c,e.startOffset_=d,e.endNode_=a,e.endOffset_=b):(e.startNode_=a,e.startOffset_=b,e.endNode_=c,e.endOffset_=d),e},goog.dom.TextRange.prototype.browserRangeWrapper_=_NULL,goog.dom.TextRange.prototype.startNode_=_NULL,goog.dom.TextRange.prototype.startOffset_=_NULL,goog.dom.TextRange.prototype.endNode_=_NULL,goog.dom.TextRange.prototype.endOffset_=_NULL,goog.dom.TextRange.prototype.isReversed_=_FALSE,goog.dom.TextRange.prototype.clone=function(){var a=new goog.dom.TextRange;return a.browserRangeWrapper_=this.browserRangeWrapper_,a.startNode_=this.startNode_,a.startOffset_=this.startOffset_,a.endNode_=this.endNode_,a.endOffset_=this.endOffset_,a.isReversed_=this.isReversed_,a},goog.dom.TextRange.prototype.getType=function(){return goog.dom.RangeType.TEXT},goog.dom.TextRange.prototype.getBrowserRangeObject=function(){return this.getBrowserRangeWrapper_().getBrowserRange()},goog.dom.TextRange.prototype.setBrowserRangeObject=function(a){return goog.dom.AbstractRange.isNativeControlRange(a)?_FALSE:(this.browserRangeWrapper_=goog.dom.browserrange.createRange(a),this.clearCachedValues_(),_TRUE)},goog.dom.TextRange.prototype.clearCachedValues_=function(){this.startNode_=this.startOffset_=this.endNode_=this.endOffset_=_NULL},goog.dom.TextRange.prototype.getTextRangeCount=function(){return 1},goog.dom.TextRange.prototype.getTextRange=function(a){return this},goog.dom.TextRange.prototype.getBrowserRangeWrapper_=function(){return this.browserRangeWrapper_||(this.browserRangeWrapper_=goog.dom.browserrange.createRangeFromNodes(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset()))},goog.dom.TextRange.prototype.getContainer=function(){return this.getBrowserRangeWrapper_().getContainer()},goog.dom.TextRange.prototype.getStartNode=function(){return this.startNode_||(this.startNode_=this.getBrowserRangeWrapper_().getStartNode())},goog.dom.TextRange.prototype.getStartOffset=function(){return this.startOffset_!=_NULL?this.startOffset_:this.startOffset_=this.getBrowserRangeWrapper_().getStartOffset()},goog.dom.TextRange.prototype.getEndNode=function(){return this.endNode_||(this.endNode_=this.getBrowserRangeWrapper_().getEndNode())},goog.dom.TextRange.prototype.getEndOffset=function(){return this.endOffset_!=_NULL?this.endOffset_:this.endOffset_=this.getBrowserRangeWrapper_().getEndOffset()},goog.dom.TextRange.prototype.moveToNodes=function(a,b,c,d,e){this.startNode_=a,this.startOffset_=b,this.endNode_=c,this.endOffset_=d,this.isReversed_=e,this.browserRangeWrapper_=_NULL},goog.dom.TextRange.prototype.isReversed=function(){return this.isReversed_},goog.dom.TextRange.prototype.containsRange=function(a,b){var c=a.getType();if(c==goog.dom.RangeType.TEXT)return this.getBrowserRangeWrapper_().containsRange(a.getBrowserRangeWrapper_(),b);if(c==goog.dom.RangeType.CONTROL){var d=a.getElements();return(b?goog.array.some:goog.array.every)(d,function(a){return this.containsNode(a,b)},this)}return _FALSE},goog.dom.TextRange.isAttachedNode=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)){var b=_FALSE;try{b=a.parentNode}catch(a){}return!!b}return goog.dom.contains(a.ownerDocument.body,a)};goog.dom.TextRange.prototype.isRangeInDocument=function(){return(!this.startNode_||goog.dom.TextRange.isAttachedNode(this.startNode_))&&(!this.endNode_||goog.dom.TextRange.isAttachedNode(this.endNode_))&&(!(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9))||this.getBrowserRangeWrapper_().isRangeInDocument())},goog.dom.TextRange.prototype.isCollapsed=function(){return this.getBrowserRangeWrapper_().isCollapsed()},goog.dom.TextRange.prototype.getText=function(){return this.getBrowserRangeWrapper_().getText()},goog.dom.TextRange.prototype.getHtmlFragment=function(){return this.getBrowserRangeWrapper_().getHtmlFragment()},goog.dom.TextRange.prototype.getValidHtml=function(){return this.getBrowserRangeWrapper_().getValidHtml()},goog.dom.TextRange.prototype.getPastableHtml=function(){var a=this.getValidHtml();if(a.match(/^\s*<td\b/i))a="<table><tbody><tr>"+a+"</tr></tbody></table>";else if(a.match(/^\s*<tr\b/i))a="<table><tbody>"+a+"</tbody></table>";else if(a.match(/^\s*<tbody\b/i))a="<table>"+a+"</table>";else if(a.match(/^\s*<li\b/i)){for(var b=this.getContainer(),c=goog.dom.TagName.UL;b;){if(b.tagName==goog.dom.TagName.OL){c=goog.dom.TagName.OL;break}if(b.tagName==goog.dom.TagName.UL)break;b=b.parentNode}a=goog.string.buildString("<",c,">",a,"</",c,">")}return a},goog.dom.TextRange.prototype.__iterator__=function(a){return new goog.dom.TextRangeIterator(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset())},goog.dom.TextRange.prototype.select=function(){this.getBrowserRangeWrapper_().select(this.isReversed_)},goog.dom.TextRange.prototype.removeContents=function(){this.getBrowserRangeWrapper_().removeContents(),this.clearCachedValues_()},goog.dom.TextRange.prototype.surroundContents=function(a){var b=this.getBrowserRangeWrapper_().surroundContents(a);return this.clearCachedValues_(),b},goog.dom.TextRange.prototype.insertNode=function(a,b){var c=this.getBrowserRangeWrapper_().insertNode(a,b);return this.clearCachedValues_(),c},goog.dom.TextRange.prototype.surroundWithNodes=function(a,b){this.getBrowserRangeWrapper_().surroundWithNodes(a,b),this.clearCachedValues_()},goog.dom.TextRange.prototype.saveUsingDom=function(){return new goog.dom.DomSavedTextRange_(this)},goog.dom.TextRange.prototype.collapse=function(a){var b=this.isReversed()?!a:a;this.browserRangeWrapper_&&this.browserRangeWrapper_.collapse(b),b?(this.endNode_=this.startNode_,this.endOffset_=this.startOffset_):(this.startNode_=this.endNode_,this.startOffset_=this.endOffset_),this.isReversed_=_FALSE},goog.dom.DomSavedTextRange_=function(a){this.anchorNode_=a.getAnchorNode(),this.anchorOffset_=a.getAnchorOffset(),this.focusNode_=a.getFocusNode(),this.focusOffset_=a.getFocusOffset()},goog.inherits(goog.dom.DomSavedTextRange_,goog.dom.SavedRange),goog.dom.DomSavedTextRange_.prototype.restoreInternal=function(){return goog.dom.Range.createFromNodes(this.anchorNode_,this.anchorOffset_,this.focusNode_,this.focusOffset_)},goog.dom.DomSavedTextRange_.prototype.disposeInternal=function(){goog.dom.DomSavedTextRange_.superClass_.disposeInternal.call(this),this.anchorNode_=_NULL,this.focusNode_=_NULL},goog.provide("goog.dom.MultiRange"),goog.provide("goog.dom.MultiRangeIterator"),goog.dom.MultiRange=function(){this.browserRanges_=[],this.ranges_=[],this.sortedRanges_=_NULL,this.container_=_NULL},goog.inherits(goog.dom.MultiRange,goog.dom.AbstractMultiRange),goog.dom.MultiRange.createFromBrowserSelection=function(a){for(var b=new goog.dom.MultiRange,c=0,d=a.rangeCount;c<d;c++)b.browserRanges_.push(a.getRangeAt(c));return b},goog.dom.MultiRange.createFromBrowserRanges=function(a){var b=new goog.dom.MultiRange;return b.browserRanges_=goog.array.clone(a),b},goog.dom.MultiRange.createFromTextRanges=function(a){var b=new goog.dom.MultiRange;return b.ranges_=a,b.browserRanges_=a.map(function(a){return a.getBrowserRangeObject()}),b},goog.dom.MultiRange.prototype.clearCachedValues_=function(){this.ranges_=[],this.sortedRanges_=_NULL,this.container_=_NULL},goog.dom.MultiRange.prototype.clone=function(){return goog.dom.MultiRange.createFromBrowserRanges(this.browserRanges_)},goog.dom.MultiRange.prototype.getType=function(){return goog.dom.RangeType.MULTI},goog.dom.MultiRange.prototype.getBrowserRangeObject=function(){return this.browserRanges_[0]},goog.dom.MultiRange.prototype.setBrowserRangeObject=function(a){return _FALSE},goog.dom.MultiRange.prototype.getTextRangeCount=function(){return this.browserRanges_.length},goog.dom.MultiRange.prototype.getTextRange=function(a){return this.ranges_[a]||(this.ranges_[a]=goog.dom.TextRange.createFromBrowserRange(this.browserRanges_[a])),this.ranges_[a]},goog.dom.MultiRange.prototype.getContainer=function(){if(!this.container_){for(var a=[],b=0,c=this.getTextRangeCount();b<c;b++)a.push(this.getTextRange(b).getContainer());this.container_=goog.dom.findCommonAncestor.apply(_NULL,a)}return this.container_},goog.dom.MultiRange.prototype.getSortedRanges=function(){return this.sortedRanges_||(this.sortedRanges_=this.getTextRanges(),this.sortedRanges_.sort(function(a,b){var c=a.getStartNode(),d=a.getStartOffset(),e=b.getStartNode(),f=b.getStartOffset();return c==e&&d==f?0:goog.dom.Range.isReversed(c,d,e,f)?1:-1})),this.sortedRanges_},goog.dom.MultiRange.prototype.getStartNode=function(){return this.getSortedRanges()[0].getStartNode()},goog.dom.MultiRange.prototype.getStartOffset=function(){return this.getSortedRanges()[0].getStartOffset()},goog.dom.MultiRange.prototype.getEndNode=function(){return this.getSortedRanges().last().getEndNode()},goog.dom.MultiRange.prototype.getEndOffset=function(){return this.getSortedRanges().last().getEndOffset()},goog.dom.MultiRange.prototype.isRangeInDocument=function(){return this.getTextRanges().every(function(a){return a.isRangeInDocument()})},goog.dom.MultiRange.prototype.isCollapsed=function(){return 0==this.browserRanges_.length||1==this.browserRanges_.length&&this.getTextRange(0).isCollapsed()},goog.dom.MultiRange.prototype.getText=function(){return this.getTextRanges().map(function(a){return a.getText()}).join("")},goog.dom.MultiRange.prototype.getHtmlFragment=function(){return this.getValidHtml()},goog.dom.MultiRange.prototype.getValidHtml=function(){return this.getTextRanges().map(function(a){return a.getValidHtml()}).join("")},goog.dom.MultiRange.prototype.getPastableHtml=function(){return this.getValidHtml()},goog.dom.MultiRange.prototype.__iterator__=function(a){return new goog.dom.MultiRangeIterator(this)},goog.dom.MultiRange.prototype.select=function(){var a=goog.dom.AbstractRange.getBrowserSelectionForWindow(this.getWindow());a.removeAllRanges();for(var b=0,c=this.getTextRangeCount();b<c;b++)a.addRange(this.getTextRange(b).getBrowserRangeObject())},goog.dom.MultiRange.prototype.removeContents=function(){this.getTextRanges().each(function(a){a.removeContents()})},goog.dom.MultiRange.prototype.saveUsingDom=function(){return new goog.dom.DomSavedMultiRange_(this)},goog.dom.MultiRange.prototype.collapse=function(a){if(!this.isCollapsed()){var b=a?this.getTextRange(0):this.getTextRange(this.getTextRangeCount()-1);this.clearCachedValues_(),b.collapse(a),this.ranges_=[b],this.sortedRanges_=[b],this.browserRanges_=[b.getBrowserRangeObject()]}},goog.dom.DomSavedMultiRange_=function(a){this.savedRanges_=a.getTextRanges().map(function(a){return a.saveUsingDom()})},goog.inherits(goog.dom.DomSavedMultiRange_,goog.dom.SavedRange),goog.dom.DomSavedMultiRange_.prototype.restoreInternal=function(){var a=this.savedRanges_.map(function(a){return a.restore()});return goog.dom.MultiRange.createFromTextRanges(a)},goog.dom.DomSavedMultiRange_.prototype.disposeInternal=function(){goog.dom.DomSavedMultiRange_.superClass_.disposeInternal.call(this),this.savedRanges_.map(function(a){a.dispose()}),delete this.savedRanges_},goog.dom.MultiRangeIterator=function(a){a&&(this.iterators_=a.getSortedRanges().map(function(a){return goog.iter.toIterator(a)})),goog.dom.RangeIterator.call(this,a?this.getStartNode():_NULL,_FALSE)},goog.inherits(goog.dom.MultiRangeIterator,goog.dom.RangeIterator),goog.dom.MultiRangeIterator.prototype.iterators_=_NULL,goog.dom.MultiRangeIterator.prototype.currentIdx_=0,goog.dom.MultiRangeIterator.prototype.getStartTextOffset=function(){return this.iterators_[this.currentIdx_].getStartTextOffset()},goog.dom.MultiRangeIterator.prototype.getEndTextOffset=function(){return this.iterators_[this.currentIdx_].getEndTextOffset()},goog.dom.MultiRangeIterator.prototype.getStartNode=function(){return this.iterators_[0].getStartNode()},goog.dom.MultiRangeIterator.prototype.getEndNode=function(){return this.iterators_.last().getEndNode()},goog.dom.MultiRangeIterator.prototype.isLast=function(){return this.iterators_[this.currentIdx_].isLast()},goog.dom.MultiRangeIterator.prototype.next=function(){try{var a=this.iterators_[this.currentIdx_],b=a.next();return this.setPosition(a.node,a.tagType,a.depth),b}catch(a){if(a!==goog.iter.StopIteration||this.iterators_.length-1==this.currentIdx_)throw a;return this.currentIdx_++,this.next()}},goog.dom.MultiRangeIterator.prototype.copyFrom=function(a){this.iterators_=goog.array.clone(a.iterators_),goog.dom.MultiRangeIterator.superClass_.copyFrom.call(this,a)},goog.dom.MultiRangeIterator.prototype.clone=function(){var a=new goog.dom.MultiRangeIterator(_NULL);return a.copyFrom(this),a},goog.provide("goog.dom.ControlRange"),goog.provide("goog.dom.ControlRangeIterator"),goog.dom.ControlRange=function(){},goog.inherits(goog.dom.ControlRange,goog.dom.AbstractMultiRange),goog.dom.ControlRange.createFromBrowserRange=function(a){var b=new goog.dom.ControlRange;return b.range_=a,b},goog.dom.ControlRange.createFromElements=function(a){for(var b=goog.dom.getOwnerDocument(arguments[0]).body.createControlRange(),c=0,d=arguments.length;c<d;c++)b.addElement(arguments[c]);return goog.dom.ControlRange.createFromBrowserRange(b)},goog.dom.ControlRange.prototype.range_=_NULL,goog.dom.ControlRange.prototype.elements_=_NULL,goog.dom.ControlRange.prototype.sortedElements_=_NULL,goog.dom.ControlRange.prototype.clearCachedValues_=function(){this.elements_=_NULL,this.sortedElements_=_NULL},goog.dom.ControlRange.prototype.clone=function(){return goog.dom.ControlRange.createFromElements.apply(this,this.getElements())},goog.dom.ControlRange.prototype.getType=function(){return goog.dom.RangeType.CONTROL},goog.dom.ControlRange.prototype.getBrowserRangeObject=function(){return this.range_||_DOC.body.createControlRange()},goog.dom.ControlRange.prototype.setBrowserRangeObject=function(a){return goog.dom.AbstractRange.isNativeControlRange(a)?(this.range_=a,_TRUE):_FALSE},goog.dom.ControlRange.prototype.getTextRangeCount=function(){return this.range_?this.range_.length:0},goog.dom.ControlRange.prototype.getTextRange=function(a){return goog.dom.TextRange.createFromNodeContents(this.range_.item(a))},goog.dom.ControlRange.prototype.getContainer=function(){return goog.dom.findCommonAncestor.apply(_NULL,this.getElements())},goog.dom.ControlRange.prototype.getStartNode=function(){return this.getSortedElements()[0]},goog.dom.ControlRange.prototype.getStartOffset=function(){return 0},goog.dom.ControlRange.prototype.getEndNode=function(){var a=this.getSortedElements(),b=a.last();return a.find(function(a){return goog.dom.contains(a,b)})},goog.dom.ControlRange.prototype.getEndOffset=function(){return this.getEndNode().childNodes.length},goog.dom.ControlRange.prototype.getElements=function(){if(!this.elements_&&(this.elements_=[],this.range_))for(var a=0;a<this.range_.length;a++)this.elements_.push(this.range_.item(a));return this.elements_},goog.dom.ControlRange.prototype.getSortedElements=function(){return this.sortedElements_||(this.sortedElements_=this.getElements().concat(),this.sortedElements_.sort(function(a,b){return a.sourceIndex-b.sourceIndex})),this.sortedElements_},goog.dom.ControlRange.prototype.isRangeInDocument=function(){var a=_FALSE;try{a=this.getElements().every(function(a){return goog.userAgent.IE?a.parentNode:goog.dom.contains(a.ownerDocument.body,a)})}catch(a){}return a},goog.dom.ControlRange.prototype.isCollapsed=function(){return!this.range_||!this.range_.length},goog.dom.ControlRange.prototype.getText=function(){return""},goog.dom.ControlRange.prototype.getHtmlFragment=function(){return this.getSortedElements().map(goog.dom.getOuterHtml).join("")},goog.dom.ControlRange.prototype.getValidHtml=function(){return this.getHtmlFragment()},goog.dom.ControlRange.prototype.getPastableHtml=goog.dom.ControlRange.prototype.getValidHtml,goog.dom.ControlRange.prototype.__iterator__=function(a){return new goog.dom.ControlRangeIterator(this)},goog.dom.ControlRange.prototype.select=function(){this.range_&&this.range_.select()},goog.dom.ControlRange.prototype.removeContents=function(){if(this.range_){for(var a=[],b=0,c=this.range_.length;b<c;b++)a.push(this.range_.item(b));a.each(goog.dom.removeNode),this.collapse(_FALSE)}},goog.dom.ControlRange.prototype.saveUsingDom=function(){return new goog.dom.DomSavedControlRange_(this)},goog.dom.ControlRange.prototype.collapse=function(a){this.range_=_NULL,this.clearCachedValues_()},goog.dom.DomSavedControlRange_=function(a){this.elements_=a.getElements()},goog.inherits(goog.dom.DomSavedControlRange_,goog.dom.SavedRange),goog.dom.DomSavedControlRange_.prototype.restoreInternal=function(){for(var a=this.elements_.length?goog.dom.getOwnerDocument(this.elements_[0]):document,b=a.body.createControlRange(),c=0,d=this.elements_.length;c<d;c++)b.addElement(this.elements_[c]);return goog.dom.ControlRange.createFromBrowserRange(b)},goog.dom.DomSavedControlRange_.prototype.disposeInternal=function(){goog.dom.DomSavedControlRange_.superClass_.disposeInternal.call(this),delete this.elements_},goog.dom.ControlRangeIterator=function(a){a&&(this.elements_=a.getSortedElements(),this.startNode_=this.elements_.shift(),this.endNode_=this.elements_.last()||this.startNode_),goog.dom.RangeIterator.call(this,this.startNode_,_FALSE)},goog.inherits(goog.dom.ControlRangeIterator,goog.dom.RangeIterator),goog.dom.ControlRangeIterator.prototype.startNode_=_NULL,goog.dom.ControlRangeIterator.prototype.endNode_=_NULL,goog.dom.ControlRangeIterator.prototype.elements_=_NULL,goog.dom.ControlRangeIterator.prototype.getStartTextOffset=function(){return 0},goog.dom.ControlRangeIterator.prototype.getEndTextOffset=function(){return 0},goog.dom.ControlRangeIterator.prototype.getStartNode=function(){return this.startNode_},goog.dom.ControlRangeIterator.prototype.getEndNode=function(){return this.endNode_},goog.dom.ControlRangeIterator.prototype.isLast=function(){return!this.depth&&!this.elements_.length},goog.dom.ControlRangeIterator.prototype.next=function(){if(this.isLast())throw goog.iter.StopIteration;if(!this.depth){var a=this.elements_.shift();return this.setPosition(a,goog.dom.TagWalkType.START_TAG,goog.dom.TagWalkType.START_TAG),a}return goog.dom.ControlRangeIterator.superClass_.next.call(this)},goog.dom.ControlRangeIterator.prototype.copyFrom=function(a){this.elements_=a.elements_,this.startNode_=a.startNode_,this.endNode_=a.endNode_,goog.dom.ControlRangeIterator.superClass_.copyFrom.call(this,a)},goog.dom.ControlRangeIterator.prototype.clone=function(){var a=new goog.dom.ControlRangeIterator(_NULL);return a.copyFrom(this),a},goog.provide("goog.dom.Range"),goog.dom.Range.createFromWindow=function(a){var b=goog.dom.AbstractRange.getBrowserSelectionForWindow(a||window);return b&&goog.dom.Range.createFromBrowserSelection(b)},goog.dom.Range.createFromBrowserSelection=function(a){var b,c=_FALSE;if(a.createRange)try{b=a.createRange()}catch(a){return _NULL}else{if(!a.rangeCount)return _NULL;if(a.rangeCount>1)return goog.dom.MultiRange.createFromBrowserSelection(a);b=a.getRangeAt(0),c=goog.dom.Range.isReversed(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}return goog.dom.Range.createFromBrowserRange(b,c)},goog.dom.Range.createFromBrowserRange=function(a,b){return goog.dom.AbstractRange.isNativeControlRange(a)?goog.dom.ControlRange.createFromBrowserRange(a):goog.dom.TextRange.createFromBrowserRange(a,b)},goog.dom.Range.createFromNodeContents=function(a,b){return goog.dom.TextRange.createFromNodeContents(a,b)},goog.dom.Range.createCaret=function(a,b){return goog.dom.TextRange.createFromNodes(a,b,a,b)},goog.dom.Range.createFromNodes=function(a,b,c,d){return goog.dom.TextRange.createFromNodes(a,b,c,d)},goog.dom.Range.clearSelection=function(a){var b=goog.dom.AbstractRange.getBrowserSelectionForWindow(a||window);if(b)if(b.empty)try{b.empty()}catch(a){}else b.removeAllRanges()},goog.dom.Range.isReversed=function(a,b,c,d){if(a==c)return d<b;var e;if(a.nodeType==goog.dom.NodeType.ELEMENT&&b)if(e=a.childNodes[b])a=e,b=0;else if(goog.dom.contains(a,c))return _TRUE;if(c.nodeType==goog.dom.NodeType.ELEMENT&&d)if(e=c.childNodes[d])c=e,d=0;else if(goog.dom.contains(c,a))return _FALSE;return(goog.dom.compareNodeOrder(a,c)||b-d)>0},goog.provide("export_dep"),_WIN.tx={},_WIN.installHyperscript=function(a,b){each("a big blockquote br b center code dd dl dt div em font form h1 h2 h3 h4 h5 h6 hr img iframe input i li ol option pre p script select small span strike strong style sub sup table tbody td textarea tr ul u".split(" "),function(c){a[c]=function(){var a=b.createElement(c);return each(arguments,function(b){if(b.nodeType)a.appendChild(b);else if("string"==typeof b||"number"==typeof b)"textarea"==c?$tx.msie?a.value+=b:a.text+=b:a.innerHTML+=b;else if("array"==typeof b)for(var d=0;d<b.length;d++)a.appendChild(b[d]);else for(var e in b)if("style"==e)for(var f in b[e])"float"==f||"cssFloat"==f?a[e][a[e].styleFloat===_UNDEFINED?"cssFloat":"styleFloat"]=b[e][f]:a[e][f]=b[e][f];else["more","less","longDesc"].contains(e)?a.setAttribute&&a.setAttribute(e,b[e]):["colSpan","rowSpan","cellPadding","cellSpacing"].contains(e)?a.setAttribute&&a.setAttribute(e,b[e]):b[e]&&(a[e]=b[e])}),a}})},installHyperscript(_WIN.tx,_DOC),function(){function a(b,c){return b?(c.indexOf("{if:")>-1&&(c=c.replace(/#\{if:([_\w]+)([=><!]+)([_'"\-\w]+)\}([\s\S]*?)#\{\/if:\1\}/gm,function(c,d,e,f,g){if(b[d]==_NULL)return c;var h=_FALSE;try{e="="==e?"==":e;var i='"'+(b[d]+"").replace(/['"]/g,"")+'"',j='"'+f.replace(/['"]/g,"")+'"';h=txEval("("+i+e+j+")")}catch(a){h=_FALSE}return h?a(b,g):""})),c.indexOf("{for:")>-1&&(c=c.replace(/#\{for:([_\w]+):?(\d*):?(\d*)\}([\s\S]*?)#\{\/for:\1\}/gm,function(c,d,e,f,g){if(!b[d]||!b[d].length)return c;var h=b[d],i=[];e=e?isNaN(e)?h.length:parseInt(e):h.length,f=f?isNaN(f)?0:parseInt(f):0;for(var j=0,k=Math.min(h.length,e);j<k;j++)i.push(a(h[j],g));return i.join("").substring(f)})),c.replace(/#\{([_\w]+)\}/g,function(a,c){return b[c]!=_NULL?b[c]:a})):""}(_WIN.Template=function(a){this.template=a}).prototype={evaluate:function(b){return a(b,this.template)},evaluateToDom:function(b,c){"string"==typeof c&&(c=_DOC.getElementById(c)),c.innerHTML=a(b,this.template)},evaluateAsDom:function(b,c){var d=(c||document).createElement("div");return d.innerHTML=a(b,this.template),d.firstChild}}}(),function(){var a,b,c,d=/(\S*)#(\S+)/,e=/(\S*)\.(\S+)/,g={"#":function(c,e){if((a=d.exec(e))!==_NULL){var f=a[1],g=a[2];if(c.getElementById||(c=c.ownerDocument),(b=c.getElementById(g))&&(f.length<1||b.nodeName.toLowerCase()==f))return[b]}return[]},".":function(b,d){if((a=e.exec(d))!==_NULL){var f=""===a[1]?"*":a[1],g=a[2];if((c=b.getElementsByTagName(f)).length>0){for(var h=[],i=new RegExp("(^| )"+g+"($| )"),j=0;j<c.length;j++){var k=c[j];i.test(k.className)&&h.push(k)}return h}}return[]},"*":function(a,b){if((c=a.getElementsByTagName(b)).length>0){for(var d=[],e=0;e<c.length;e++)d.push(c[e]);return d}return[]}},h=/(\.|#)/,i=function(a,b){if(a.length<1)return[];var c;(f=h.exec(b))!==_NULL&&g[f[1]]&&(c=f[1]),c=c||"*";for(var d=[],e=0;e<a.length;e++)d=d.concat(g[c](a[e],b));return d},j=function(a,b){for(var c=[a],d=b.split(" "),e=0;e<d.length;e++)c=i(c,d[e]);return c},k=function(a,b,c){if(c=!!c,1!==a.nodeType&&9!==a.nodeType)return c?[]:_NULL;if(!b||"string"!=typeof b)return c?[]:_NULL;for(var d,e=[],f=b.split(","),g=0;g<f.length&&(!((d=j(a,f[g]))&&d.length>0)||(e=e.concat(d),c));g++);return c?e:e[0]};_WIN.dGetty=function(){var a=arguments;if(1==a.length){if("string"==typeof a[0])return k(_DOC,a[0])}else if(2==a.length&&a[0].nodeType&&"string"==typeof a[1])return k(a[0],a[1]);return _NULL},_WIN.dGetties=function(){var a=arguments;if(1==a.length){if("string"==typeof a[0])return k(_DOC,a[0],_TRUE)}else if(2==a.length&&a[0].nodeType&&"string"==typeof a[1])return k(a[0],a[1],_TRUE);return[]}}(),function(){var a,b=/(\S*)#(\S+)/,c=/(\S*)\.(\S+)/,d={"#":function(c,d){if((a=b.exec(d))!==_NULL){var e=a[1],f=a[2];if((e.length<1||c.nodeName.toLowerCase()==e)&&c.id==f)return _TRUE}return _FALSE},".":function(b,d){if((a=c.exec(d))!==_NULL){var e=a[1],f=a[2];if((e.length<1||b.nodeName.toLowerCase()==e)&&b.className.indexOf(f)>-1)return _TRUE}return _FALSE},"*":function(a,b){var c=b;return a.nodeName.toLowerCase()==c?_TRUE:_FALSE}},e=/(\.|#)/,g=function(a,b){var c;return(f=e.exec(b))!==_NULL&&d[f[1]]&&(c=f[1]),c=c||"*",d[c](a,b)},h=function(a,b){if(1!==a.nodeType)return _FALSE;for(var c=_FALSE,d=b.split(","),e=0;e<d.length&&!(c=g(a,d[e]));e++);return c};_WIN.dChecky=function(){var a=arguments;return 2==a.length&&a[0].nodeType&&"string"==typeof a[1]?h(a[0],a[1]):_FALSE}}(),function(){var a,b=/(\S*)#(\S+)/,c=/(\S*)\.(\S+)/,d={"#":function(c,d){if((a=b.exec(d))!==_NULL)for(var e=""===a[1]?"*":a[1],f=a[2],g=c;g&&"body"!=g.nodeName.toLowerCase();){if(("*"==e||g.nodeName.toLowerCase()==e)&&g.id==f)return g;g=g.parentNode}return _NULL},".":function(b,d){if((a=c.exec(d))!==_NULL)for(var e=""===a[1]?"*":a[1],f=a[2],g=b;g&&"body"!=g.nodeName.toLowerCase();){if(("*"==e||g.nodeName.toLowerCase()==e)&&g.className.indexOf(f)>-1)return g;g=g.parentNode}return _NULL},"*":function(a,b){for(var c=a,d={},e=b.split(","),f=0,g=e.length;f<g;f++)d[e[f]]=_TRUE;for(;c&&"body"!=c.nodeName.toLowerCase();){if(d[c.nodeName.toLowerCase()])return c;c=c.parentNode}return _NULL}},e=/(\.|#|:\w+)/,g=function(a,b){var c;(f=e.exec(b))!==_NULL&&d[f[1]]&&(c=f[1]),c=c||"*";var g=_NULL;return(g=d[c](a,b))!=_NULL?g:_NULL},h=function(a,b){if(!b||"string"!=typeof b)return _NULL;for(var c=a,d=b.split(" "),e=0,f=d.length;e<f;e++)if((c=g(c,d[e]))==_NULL)return _NULL;return c};_WIN.dFindy=function(){var a=arguments;if(1==a.length)throw new Error("need more arguments");return 2==a.length&&a[0].nodeType&&"string"==typeof a[1]?h(a[0],a[1]):_NULL}}(),function(){var a=function(a){return this.selectSingleNode=function(b){return a?a.selectSingleNode(b):_NULL},this.selectNodes=function(b){return a?a.selectNodes(b):[]},this.getAttributeNode=function(b){return a?a.getAttributeNode(b):_NULL},this.hasChildNodes=function(){return a?a.hasChildNodes():_FALSE},this.text=a?a.textContent||a.text:_NULL,this.type=a?a.nodeType:0,this.name=a&&1==a.nodeType?a.nodeName||"":"",this};a.prototype={getValueOrDefault:function(a,b){return""===a?b:"number"==typeof b?isNaN(a)?0:parseInt(a):"boolean"==typeof b?!!a:a},xText:function(a){a=a||"";var b=this.text;return b=(b||"").trim(),this.getValueOrDefault(b,a)},xAttr:function(a,b){b=b||"";var c=this.getAttributeNode(a),d=c?c.nodeValue.trim():"";return this.getValueOrDefault(d,b)},xGet:function(a){return xGetty(this,a)},xGets:function(a){return xGetties(this,a)}};var b=["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML4.DOMDocument","MSXML3.DOMDocument","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XmlDom"];_WIN.xCreate=function(c){if($tx.msie){var d=function(){for(var a=_NULL,c=0;c<b.length;c++){
try{a=new ActiveXObject(b[c])}catch(a){}if(a!==_NULL)return a}return _NULL}();return d===_NULL?_NULL:(d.async=_FALSE,d.loadXML(c),0!==d.parseError.errorCode?_NULL:new a(d))}var e=new DOMParser,d=e.parseFromString(new String(c),"text/xml");return new a(d)},_WIN.xGetty=function(b,c){return b===_NULL?_NULL:new a(b.selectSingleNode(c))},_WIN.xGetties=function(b,c){if(b===_NULL)return[];for(var d=[],e=b.selectNodes(c),f=0,g=e.length;f<g;f++)d.push(new a(e[f]));return d}}();var FontCssProperty=function(){this.empty=!0,this.shorthand=!1,this.properties={}};FontCssProperty.TAGS_FOR_PRESENTATION={U:{textDecoration:"underline"},B:{fontWeight:"bold"},STRONG:{fontWeight:"bold"},I:{fontStyle:"italic"},EM:{fontStyle:"italic"},S:{textDecoration:"line-through"},STRIKE:{textDecoration:"line-through"},INS:{textDecoration:"underline"},DEL:{textDecoration:"line-through"},FONT:function(a){var b={};a.face&&(b.fontFamily=a.face),a.color&&(b.color=a.color);var c=["","x-small","small","medium","large","x-large","xx-large"];if(a.size){var d=a.size;b.fontSize=isNaN(d)?d:c[Math.min(Math.max(1,d),6)]}return b}},FontCssProperty.FONT_RELATED_CSS_PROPERTIES={font:"font","font-style":"fontStyle","font-weight":"fontWeight","font-size":"fontSize","font-family":"fontFamily","text-decoration":"textDecoration",color:"color","background-color":"backgroundColor"},FontCssProperty.create=function(a,b){var c=new FontCssProperty,d=FontCssProperty.TAGS_FOR_PRESENTATION[a];if(d){var e="function"==typeof d?d(b):d;for(var f in e)c.setProperty(f,e[f])}var g=b.style;if(g){g=g.replace(/[\w-]+:\s?;/g,"");for(var h=g.split(/; ?|: ?/),i=0;i<h.length-1;i+=2){var j=FontCssProperty.FONT_RELATED_CSS_PROPERTIES[h[i].toLowerCase()];j&&("backgroundColor"!=j||FontCssProperty.TAGS_FOR_PRESENTATION[a]||"SPAN"==a)&&c.setProperty(j,h[i+1])}}return c.getComputedStyles()},FontCssProperty.FONT_CSS_REGEXP=/(.*?)(\w+)(\/\w+)?\s+(['"]?[\w\uac00-\ud7a3]+['"]?)$/,FontCssProperty.NORMAL_VALUE="normal",FontCssProperty.prototype.isEmpty=function(){return this.empty},FontCssProperty.prototype.setProperty=function(a,b){if(/^font$/i.test(a)){this.fromShorthand(b)&&(this.shorthand=!0,extend(this.properties,this.fromShorthand(b)))}else this.properties[a]=b;this.empty=!1},FontCssProperty.prototype.getComputedStyles=function(){return this.shorthand?this.toShorthand():extend({},this.properties)},FontCssProperty.prototype.fromShorthand=function(a){var b=a.indexOf(","),c="";b>0&&(c=a.substring(b),a=a.substring(0,b));var d=a.match(FontCssProperty.FONT_CSS_REGEXP);if(d===_NULL)return _NULL;var e=FontCssProperty.NORMAL_VALUE,f={fontSize:d[2],lineHeight:(d[3]||e).replace("/",""),fontFamily:d[4]+c,fontWeight:e,fontStyle:e,fontVariant:e},g=d[1];return/bold|700/i.test(g)&&(f.fontWeight="bold"),/italic/i.test(g)&&(f.fontStyle="italic"),/small-caps/i.test(g)&&(f.fontVarient="small-caps"),f},FontCssProperty.prototype.toShorthand=function(){var a=extend({},this.properties),b=FontCssProperty.NORMAL_VALUE,c=[];["fontWeight","fontStyle","fontVarient"].each(function(d){a[d]!=b&&c.push(a[d])}),a.lineHeight!=b?c.push(a.fontSize+"/"+a.lineHeight):c.push(a.fontSize),c.push(a.fontFamily),["fontWeight","fontStyle","fontVarient","fontSize","lineHeight","fontFamily"].each(function(b){delete a[b]});var d={font:c.join(" ")};return d=extend(d,a)};